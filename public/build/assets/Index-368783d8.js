import{J as k,v as S,d as c,k as T,c as v,w as x,o as n,a as e,b as d,j as L,l as V,s as N,u as s,e as i,h as f,F as w,aZ as P,f as C,aX as H,t as a,g as J}from"./app-e7804957.js";import{_ as K,C as F}from"./AppLayout-f65ec9a6.js";import{_ as W}from"./SucMesgShow-9d09be8f.js";import{$ as X,U as Y,N as Z,_ as z}from"./combobox-3034ebc6.js";import"./ApplicationLogo-de02e32d.js";const A={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},G=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"গ্রাম ভিত্তিক ধার্য")],-1),Q={class:"mt-4 mb-2 p-4 bg-white"},R={class:"mb-2 flex items-center"},ee=e("label",{for:"word_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"ওয়ার্ড",-1),te=e("option",{selected:"",value:""},"ওয়ার্ড নির্বাচন করুন",-1),oe=["value"],se={class:"flex"},re=e("label",{for:"f_year_id",class:"block min-w-[30%] font-extrabold text-md dark:text-white"},"গ্রাম",-1),ae={class:"relative min-w-[65%]"},le={class:"relative"},ne={class:"mt-2 flex items-center"},de=e("label",{for:"infrastructure",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"প্রতিষ্ঠানের ধরন",-1),ce=e("option",{selected:"",value:""},"প্রতিষ্ঠানের ধরন নির্বাচন করুন",-1),ie=e("option",{value:"আবাসিক"},"আবাসিক",-1),ue=e("option",{value:"বানিজ্যিক"},"বানিজ্যিক",-1),pe=[ce,ie,ue],me={class:"mt-2 flex items-center"},he=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"অর্থ-বছর",-1),ge=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),xe=["value"],fe={key:0},we={key:1,id:"table",class:"w-full text-md text-left text-gray-500 dark:text-gray-400"},_e=e("thead",{class:"text-md text-center text-gray-700 uppercase bg-[#11ff5999] dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," হোল্ডিং নাম্বার "),e("th",{scope:"col",class:"px-6 py-3"}," করদাতার নাম "),e("th",{scope:"col",class:"px-6 py-3"}," বাৎসরিক আয় "),e("th",{scope:"col",class:"px-6 py-3"}," পিতা/স্বামীর নাম "),e("th",{scope:"col",class:"px-6 py-3"}," মাতার নাম "),e("th",{scope:"col",class:"px-6 py-3"}," এনআইডি নাম "),e("th",{scope:"col",class:"px-6 py-3"}," মোবাইল নাম্বার "),e("th",{scope:"col",class:"px-6 py-3"}," গ্রামের নাম "),e("th",{scope:"col",class:"px-6 py-3"}," ওয়ার্ড নং "),e("th",{colspan:"2",scope:"col",class:""}," সম্পদের বিবরন "),e("th",{scope:"col",class:"px-6 py-3"}," বাৎসরিক ভাড়ার পরিমাণ "),e("th",{scope:"col",class:"px-6 py-3"}," অর্থ-বছর "),e("th",{scope:"col",class:"px-6 py-3"}," হাল করের পরিমাণ "),e("th",{scope:"col",class:"px-6 py-3"}," বকেয়া করের পরিমাণ "),e("th",{scope:"col",class:"px-6 py-3"}," সরোট করের পরিমাণ "),e("th",{scope:"col",class:"px-6 py-3"}," স্বাক্ষর ")])],-1),ye={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},be={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ke={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ve={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ve={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ne={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ce={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Fe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},je={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ie=e("td",{colspan:"2",scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},null,-1),Me={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},De={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ue={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},qe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ee={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},$e=e("td",null,null,-1),Pe={__name:"Index",props:{f_years:Object,words:Object,tax:Object,vilgs:Object},setup(p){const j=p,I=k().props.auth.user,_=new Date;_.getMonth()+1+""+_.getDate()+_.getFullYear();const r=S({f_year_id:"",word_id:I.word_id,village_id:"",infrastructure:""}),M=c({}),D=k().props.auth.user;k().props.permissions.forEach(function(o,l){o.module.name=="E-Khana"&&o.role_id==D.role_id&&(M.value=o)}),c(null);const U=c(""),q=c(""),g=c({});c(null);const E=()=>{if(!r.f_year_id)return U.value="অর্থ-বছর নির্বাচন করুন",!1;if(!r.village_id)return q.value="হল্ডিং নাম্বার নির্বাচন করুন",!1;console.log("i am form"),console.log(r),axios.post(route("ajax.ekhana.vlevy"),r).then(o=>{console.log(o),g.value=o.data.village_levy}).catch(o=>{console.error(o)}).finally(()=>{console.log("khana fetch done")})},u=c(j.vilgs),y=c(!1),$=()=>{axios.get(route("ajax.fetch",["Village","word_id",r.word_id]),r).then(o=>{console.log(o),u.value=o.data,console.log(u.value),u.value.length==0?(y.value=!0,u.value={}):y.value=!1}).catch(o=>{y.value=!0,u.value={},console.error(o)}).finally(()=>{console.log("Village fetch done")})};console.dir(u);const b=c(""),B=T(()=>b.value===""?u.value:u.value.filter(o=>o.name.includes(b.value))),O=()=>{const o=window.open("","","height=500,width=800");o.document.write("<html><head><title>Table Print</title>"),o.document.write("</head><body>"),o.document.write(document.querySelector("#table").innerHTML),o.document.write("</body></html>"),o.document.close(),o.print()};return(o,l)=>{const m=H("InputError");return n(),v(K,{title:"গ্রাম ভিত্তিক ধার্য"},{default:x(()=>[e("div",A,[d(W,{message:o.$page.props.flash.suc_msg},null,8,["message"]),G,e("div",Q,[e("form",{onSubmit:l[5]||(l[5]=L((...t)=>o.submit&&o.submit(...t),["prevent"])),class:"bg-[#008494db] text-[white] m-auto rounded-lg p-6 pb-[2px] text-2lg max-w-md max-sm:max-w-sm"},[e("div",R,[ee,V(e("select",{id:"word_id","onUpdate:modelValue":l[0]||(l[0]=t=>s(r).word_id=t),onChange:$,class:"border text-[black] min-w-[65%] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[te,(n(!0),i(w,null,f(p.words,(t,h)=>(n(),i("option",{value:t.id,key:h},a(t.name+"-"+t.union.name),9,oe))),128))],544),[[N,s(r).word_id]]),d(m,{class:"mt-2",message:s(r).errors.eerr},null,8,["message"]),d(m,{class:"mt-2",message:s(r).errors.word_id},null,8,["message"])]),d(s(Z),{modelValue:s(r).village_id,"onUpdate:modelValue":l[2]||(l[2]=t=>s(r).village_id=t)},{default:x(()=>[e("div",se,[re,e("div",ae,[d(s(X),{onChange:l[1]||(l[1]=t=>b.value=t.target.value),displayValue:t=>t.name,type:"text",class:"border text-[black] min-w-[100%] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["displayValue"]),s(F)?(n(),v(P(s(F)),{key:0,class:"h-4 mr-1 absolute right-[11px] top-[13px]"})):C("",!0)])]),e("div",le,[d(s(Y),{class:"absolute text-[black] p-4 mt-1 bg-[white] left-[115px] w-[222px] rounded-lg"},{default:x(()=>[(n(!0),i(w,null,f(s(B),t=>(n(),v(s(z),{class:"cursor-pointer",autocomplete:"off",key:t.id,value:t},{default:x(()=>[J(a(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})])]),_:1},8,["modelValue"]),e("div",ne,[de,V(e("select",{id:"infrastructure","onUpdate:modelValue":l[3]||(l[3]=t=>s(r).infrastructure=t),class:"border min-w-[65%] text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},pe,512),[[N,s(r).infrastructure]]),d(m,{class:"mt-2",message:s(r).errors.eerr},null,8,["message"]),d(m,{class:"mt-2",message:s(r).errors.infrastructure},null,8,["message"])]),e("div",me,[he,V(e("select",{id:"f_year_id","onUpdate:modelValue":l[4]||(l[4]=t=>s(r).f_year_id=t),class:"border min-w-[65%] text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[ge,(n(!0),i(w,null,f(p.f_years,(t,h)=>(n(),i("option",{value:t.id,key:h},a(t.from+"-"+t.to),9,xe))),128))],512),[[N,s(r).f_year_id]]),d(m,{class:"mt-2",message:s(r).errors.eerr},null,8,["message"]),d(m,{class:"mt-2",message:s(r).errors.f_year_id},null,8,["message"])]),e("div",{class:"flex items-center justify-center mt-8"},[e("button",{onClick:E,type:"submit",class:"text-white text-[18px] font-extrabold bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},"অনুসন্ধান")])],32)]),g.value.length>0?(n(),i("div",fe,[e("button",{type:"button",onClick:O,class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," Print ")])):C("",!0),g.value.length>0?(n(),i("table",we,[_e,e("tbody",null,[(n(!0),i(w,null,f(g.value,(t,h)=>(n(),i("tr",{key:h,class:"bg-white text-center border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",ye,a(t.holding_no),1),e("td",be,a(t.bn_name),1),e("td",ke,a(new Intl.NumberFormat().format(t.yearly_income))+"/= ",1),e("td",ve,a(t.spouse_name),1),e("td",Ve,a(t.mother_name),1),e("td",Ne,a(t.nid),1),e("td",Ce,a(t.phone),1),e("td",Fe,a(t.vill_name),1),e("td",je,a(t.w_name),1),Ie,e("td",Me,a(new Intl.NumberFormat().format(t.yearly_house_rent))+"/= ",1),e("td",De,a(t.fy_from+"-"+t.fy_to),1),e("td",Ue,a(new Intl.NumberFormat().format(Math.round(t.yearly_house_rent*p.tax.price/100)))+"/= ",1),e("td",qe,a(new Intl.NumberFormat().format(Math.round(t.yearly_house_rent*p.tax.price/100)-t.tax_paid))+"/= ",1),e("td",Ee,a(new Intl.NumberFormat().format(Math.round(t.yearly_house_rent*p.tax.price/100)))+"/= ",1),$e]))),128))])])):C("",!0)])]),_:1})}}};export{Pe as default};
