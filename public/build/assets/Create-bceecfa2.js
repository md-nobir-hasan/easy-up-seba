import{v as D,d as m,J as j,c as U,w as x,o as d,a as e,b as u,i as M,l as b,s as E,u as o,e as c,h as T,F as q,g as w,n as _,t as p,H as h,aZ as O,f as z,aX as J}from"./app-42120410.js";import{_ as K,C as L}from"./AppLayout-754d970e.js";import{_ as X}from"./SucMesgShow-d3f2941b.js";import{_ as v}from"./PrimaryButton-8d5420c2.js";import"./ApplicationLogo-fcad32e3.js";import"./AuthenticationCardLogo-0ec4ba55.js";const Y={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Z=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"কর জমা ফর্ম")],-1),A={class:"mt-4 mb-2 p-4 bg-white"},G={class:"mb-4 flex items-center"},P=e("label",{for:"f_year_id",class:"block text-md font-medium text-[blue] dark:text-white"},"অর্থ-বছর",-1),Q=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),R=["value"],W={class:"mb-4 flex items-center"},ee=e("label",{for:"ekhana_id",class:"block text-md font-medium text-[blue] dark:text-white"},"হল্ডিং নাম্বার",-1),te=e("option",{selected:"",value:""},"হল্ডিং নাম্বার নির্বাচন করুন",-1),oe=["value"],se={class:"flex items-center justify-center mt-4"},ae={key:0,class:"lg:flex justify-center bg-white items-center mt-4 pt-4"},re={class:"border-collapse border border-slate-400 text-center text-md text-left text-gray-500 dark:text-gray-400 rounded-lg m-auto"},le=e("thead",{class:"text-md text-center text-gray-700 uppercase bg-[#11ff5999] dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{colspan:"2",class:"border border-slate-300 px-6 py-4 font-bold text-gray-900 whitespace-nowrap dark:text-white"},"খান তথ্য")])],-1),de=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," হোল্ডিং নাম্বার ",-1),ne={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ie=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," করদাতার নাম ",-1),ce=["readonly"],pe=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," বাৎসরিক আয় ",-1),ue={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},be=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," পিতা/স্বামীর নাম ",-1),_e={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},me=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," মাতার নাম ",-1),he={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},fe=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," এনআইডি নাম ",-1),xe={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ye=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," মোবাইল নাম্বার ",-1),ge=["readonly"],ke=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," গ্রামের নাম ",-1),we={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ve=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," ওয়ার্ড নং ",-1),Ce={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ve={class:"text-md text-center text-gray-700 uppercase bg-[#11ff5999] dark:bg-gray-700 dark:text-gray-400"},De={key:1,colspan:"2",class:"border border-slate-300 px-6 py-4 font-bold text-gray-900 whitespace-nowrap dark:text-white"},je={class:"pb-5 pr-4"},Ue={class:"border-collapse border border-slate-400 text-center m-auto"},Ee=e("thead",{class:"bg-[#11ff5999]"},[e("tr",null,[e("th",{colspan:"2",class:"border border-slate-300 p-2"},"কর জমা ফর্ম")])],-1),Te=e("th",{class:"border border-slate-300 p-2"},"জমার তারিখ",-1),qe=e("td",{class:"border border-slate-300 p-2"},"করের পরিমাণ",-1),Fe={class:"border border-slate-300 bg-gray-100"},Ne=e("td",{class:"border border-slate-300 p-2"},"বকেয়া পাওনা",-1),Se={class:"border border-slate-300 bg-gray-100"},$e=e("td",{class:"border border-slate-300 p-2"},"দন্ড",-1),Be={class:"border border-slate-300 bg-gray-100"},He={class:"bg-[#11ff5999]"},Ie={key:0,colspan:"2",class:"border border-slate-300 p-2"},Me={key:1,colspan:"2",class:"border border-slate-300 p-2"},Ye={__name:"Create",props:{f_years:Object,ekhanas:Object,taxes:Object},setup(C){const y=new Date,V=y.getMonth()+1+"/"+y.getDate()+"/"+y.getFullYear(),t=D({f_year_id:"",ekhana_id:"",paid_amount:0,arrear:0,arrears:0,fine:0,deposite_date:V,id:0}),n=D({phone:"",bn_name:"",id:0});t.arrears=t.paid_amount-t.arrear,console.log(t,V);const F=m({}),N=j().props.auth.user;j().props.permissions.forEach(function(s,r){s.module.name=="E-Khana"&&s.role_id==N.role_id&&(F.value=s)});const g=m(null),S=m(""),$=m(""),l=m({}),B=()=>{if(!t.f_year_id)return S.value="অর্থ-বছর নির্বাচন করুন",!1;if(!t.ekhana_id)return $.value="হল্ডিং নাম্বার নির্বাচন করুন",!1;axios.post(route("ajax.ekhana.fetch"),t).then(s=>{l.value=s.data.ekhana,g.value=s.data.ht_deposite,t.paid_amount=s.data.ht_deposite.total_amount,t.arrears=s.data.ht_deposite.arrears??0,t.fine=s.data.ht_deposite.fine??0,t.id=s.data.ht_deposite.id??0,n.id=s.data.ekhana.id,n.bn_name=s.data.ekhana.bn_name,n.phone=s.data.ekhana.phone,console.log(t,n)}).catch(s=>{console.error(s)}).finally(()=>{console.log("khana fetch done")})},H=()=>{axios.post(route("ajax.update",["HouseTaxDeposite"]),t).then(s=>{g.value=s.data}).catch(s=>{console.error(s)}).finally(()=>{console.log("House Tax Deposite Store Done")})},i=m(!1),I=()=>{axios.post(route("ajax.update",["Ekhana"]),n).then(s=>{i.value=!1,alert("সফলভাবে আপলোড হয়েছে")}).catch(s=>{console.error(s)}).finally(()=>{console.log("House Tax Deposite Store Done")})};return(s,r)=>{const f=J("InputError");return d(),U(K,{title:"কর জমা"},{default:x(()=>[e("div",Y,[u(X,{message:s.$page.props.flash.suc_msg},null,8,["message"]),Z,e("div",A,[e("form",{onSubmit:r[2]||(r[2]=M((...a)=>s.submit&&s.submit(...a),["prevent"])),class:"bg-[#11ff5999] m-auto rounded-lg p-6 text-2lg max-w-md max-sm:max-w-sm"},[e("div",G,[P,b(e("select",{id:"f_year_id","onUpdate:modelValue":r[0]||(r[0]=a=>o(t).f_year_id=a),class:"border ml-6 border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 pr-[50px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[Q,(d(!0),c(q,null,T(C.f_years,(a,k)=>(d(),c("option",{value:a.id,key:k},p(a.from+"-"+a.to),9,R))),128))],512),[[E,o(t).f_year_id]]),u(f,{class:"mt-2",message:o(t).errors.eerr},null,8,["message"]),u(f,{class:"mt-2",message:o(t).errors.f_year_id},null,8,["message"])]),e("div",W,[ee,b(e("select",{id:"ekhana_id","onUpdate:modelValue":r[1]||(r[1]=a=>o(t).ekhana_id=a),class:"border ml-1 border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 pr-[33px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[te,(d(!0),c(q,null,T(C.ekhanas,(a,k)=>(d(),c("option",{value:a.id,key:k},p(a.holding_no),9,oe))),128))],512),[[E,o(t).ekhana_id]]),u(f,{class:"mt-2",message:o(t).errors.eerr2},null,8,["message"]),u(f,{class:"mt-2",message:o(t).errors.ekhana_id},null,8,["message"])]),e("div",se,[u(v,{onClick:B,class:_(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:x(()=>[w(" সার্চ করুন ")]),_:1},8,["class","disabled"])])],32)]),l.value.holding_no?(d(),c("div",ae,[e("table",re,[le,e("tbody",null,[e("tr",null,[de,e("td",ne,p(l.value.holding_no),1)]),e("tr",null,[ie,e("td",{scope:"row",class:_(["border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",[i.value?" p-2":""]])},[b(e("input",{class:_([i.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!i.value,"onUpdate:modelValue":r[3]||(r[3]=a=>o(n).bn_name=a)},null,10,ce),[[h,o(n).bn_name]])],2)]),e("tr",null,[pe,e("td",ue,p(new Intl.NumberFormat().format(l.value.yearly_income))+"/= ",1)]),e("tr",null,[be,e("td",_e,p(l.value.spouse_name),1)]),e("tr",null,[me,e("td",he,p(l.value.motder_name),1)]),e("tr",null,[fe,e("td",xe,p(l.value.nid),1)]),e("tr",null,[ye,e("td",{scope:"row",class:_(["border border-slate-300 font-medium text-gray-900 whitespace-nowrap dark:text-white",[i.value?" p-2":""]])},[b(e("input",{class:_([i.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!i.value,"onUpdate:modelValue":r[4]||(r[4]=a=>o(n).phone=a)},null,10,ge),[[h,o(n).phone]])],2)]),e("tr",null,[ke,e("td",we,p(l.value.village?l.value.village.name:""),1)]),e("tr",null,[ve,e("td",Ce,p(l.value.word?l.value.word.name:""),1)])]),e("tfoot",Ve,[e("tr",null,[i.value?(d(),c("th",De,[u(v,{type:"button",onClick:I,class:_(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:x(()=>[w(" আপডেট ")]),_:1},8,["class","disabled"])])):(d(),c("th",{key:0,colspan:"2",onClick:r[5]||(r[5]=a=>i.value=!0),class:"border border-slate-300 px-6 py-4 font-bold text-gray-900 whitespace-nowrap dark:text-white"}," হালনাগাদ "))])])]),e("div",je,[e("form",null,[e("table",Ue,[Ee,e("tbody",null,[e("tr",null,[Te,e("td",null,[b(e("input",{class:"border-0",type:"date",required:"","onUpdate:modelValue":r[6]||(r[6]=a=>o(t).deposite_date=a)},null,512),[[h,o(t).deposite_date]])])]),e("tr",null,[qe,e("td",Fe,[b(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"text","onUpdate:modelValue":r[7]||(r[7]=a=>o(t).paid_amount=a)},null,512),[[h,o(t).paid_amount]])])]),e("tr",null,[Ne,e("td",Se,[b(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"number","onUpdate:modelValue":r[8]||(r[8]=a=>o(t).arrear=a)},null,512),[[h,o(t).arrear]])])]),e("tr",null,[$e,e("td",Be,[b(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"number","onUpdate:modelValue":r[9]||(r[9]=a=>o(t).fine=a)},null,512),[[h,o(t).fine]])])])]),e("tfoot",He,[e("tr",null,[g.value.paid_amount?(d(),c("th",Me,[(d(),U(O(o(L)),{class:"h-9 p-1 inline font-bold bg-[blue] text-white rounded-full"}))])):(d(),c("th",Ie,[u(v,{type:"button",onClick:H,class:_(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:x(()=>[w(" জমা করুন ")]),_:1},8,["class","disabled"])]))])])])])])])):z("",!0)])]),_:1})}}};export{Ye as default};
