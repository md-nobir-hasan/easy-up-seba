import{v as ne,k as L,z as y,d as U,A as de,c as Z,w as f,o as c,a as o,b as a,g as q,u as s,i as ie,j as re,l as h,s as V,e as p,h as x,t as v,F as w,n as z,f as ee}from"./app-3b687d5c.js";import{F as ue}from"./FormLayout-8f70fb3a.js";import{_ as u,a as i}from"./TextInput-2bc456f4.js";import{_ as r}from"./InputLabel-858c1f4a.js";import{_ as C}from"./PrimaryButton-8e9824f6.js";import{_ as me}from"./SucMesgShow-030596e1.js";import{_ as ce}from"./AppLayout-b73d14f6.js";import $ from"./Address-b216df40.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-cbe2e596.js";const _e={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},pe={class:"bg-white flex justify-between p-4"},ge=o("h2",{class:"float-left text-3xl font-extrabold"},"গ্রাম যোগ",-1),be=o("hr",{class:"mb-1"},null,-1),fe=["onSubmit"],ve={class:"grid grid-cols-6 gap-5 my-2"},ye={class:"col-span-4"},he={class:"grid grid-cols-6 gap-5 my-2"},Ve={class:"col-span-4"},xe={class:"grid grid-cols-6 gap-5 my-2"},we={class:"col-span-4"},ke={class:"grid grid-cols-6 gap-5 my-5"},Le={class:"col-span-4"},Ue={class:"grid grid-cols-6 gap-5 my-5"},qe={class:"col-span-4"},ze={class:"grid grid-cols-6 gap-5 my-2"},Ce={class:"col-span-4"},$e={class:"grid grid-cols-6 gap-5 my-2"},je={class:"col-span-4"},Be={class:"grid grid-cols-6 gap-5 my-2"},Fe={class:"col-span-4"},Oe={class:"grid grid-cols-6 gap-5 my-2"},Se={class:"col-span-4"},Te={class:"grid grid-cols-6 gap-5 my-2"},Ae={class:"col-span-4"},De={class:"grid grid-cols-6 gap-5 my-2"},Ne={class:"col-span-4"},Pe={class:"grid grid-cols-6 gap-5 my-2"},Me={class:"col-span-4"},Ee={class:"grid grid-cols-6 gap-5 my-5"},Ie={class:"col-span-4"},Ge={class:"grid grid-cols-6 gap-5 my-2"},He={class:"col-span-4"},Je=o("option",{value:""}," ব্যবসার ধরণ নির্বাচন করুন ",-1),Ke=["value","selected"],Qe={class:"grid grid-cols-6 gap-5 my-2"},Re={class:"col-span-4"},We=["disabled"],Xe=o("option",{value:""},"মূলধন নির্বাচন করুন",-1),Ye=["value","selected"],Ze={key:0,class:"grid grid-cols-6 gap-5 my-2"},es={class:"col-span-4"},ss={class:"grid grid-cols-6 gap-5 my-2"},as={class:"col-span-4"},ts={class:"grid grid-cols-6 gap-5 my-2"},ls={class:"col-span-4"},os=o("option",{value:""},"ধরন নির্বাচন করুন",-1),ns=["value","selected"],ds={class:"grid grid-cols-6 gap-5 my-4"},is={class:"col-span-4"},rs={class:"grid grid-cols-6 gap-5 my-5"},us={class:"col-span-4"},ms={class:"grid grid-cols-6 gap-5 my-2"},cs={class:"col-span-4"},_s=o("option",{value:""}," স্ট্যাটাস নির্বাচন করুন ",-1),ps=["value","selected"],gs={class:"flex items-center justify-center mt-4"},Us={__name:"Form",props:{divisions:Object,status:Object,ownershipType:Object,businessType:Object,tradeLicense:Object},setup(_){var F,O,S,T,A,D,N,P,M,E,I,G,H,J,K,Q,R,W,X,Y;const d=_,e=ne({submit_btn:"",present_address:"",permanent_address:"",business_address:"",code_number:((F=d.tradeLicense)==null?void 0:F.code_number)??"",name:((O=d.tradeLicense)==null?void 0:O.name)??"",fathers_name:((S=d.tradeLicense)==null?void 0:S.fathers_name)??"",mothers_name:((T=d.tradeLicense)==null?void 0:T.mothers_name)??"",email:((A=d.tradeLicense)==null?void 0:A.email)??"",phone:((D=d.tradeLicense)==null?void 0:D.phone)??"",nationality:((N=d.tradeLicense)==null?void 0:N.nationality)??"",nid_number:((P=d.tradeLicense)==null?void 0:P.nid_number)??"",fee:((M=d.tradeLicense)==null?void 0:M.fee)??"",e_fee:((E=d.tradeLicense)==null?void 0:E.e_fee)??"",business_name:((I=d.tradeLicense)==null?void 0:I.business_name)??"",business_type_id:((G=d.tradeLicense)==null?void 0:G.business_type_id)??"",business_capital_id:((H=d.tradeLicense)==null?void 0:H.business_capital_id)??"",quantity:((J=d.tradeLicense)==null?void 0:J.quantity)??!1,business_starting_date:(K=d.tradeLicense)!=null&&K.business_starting_date?new Date((Q=d.tradeLicense)==null?void 0:Q.business_starting_date).toISOString().split("T")[0]:"",ownership:((R=d.tradeLicense)==null?void 0:R.ownership)??"",business_space_rant:((W=d.tradeLicense)==null?void 0:W.business_space_rant)??"",size_of_signboard:((X=d.tradeLicense)==null?void 0:X.size_of_signboard)??"",status:((Y=d.tradeLicense)==null?void 0:Y.status)??""});function se(n){e.code_number=n}const ae=L(()=>{var n,l;return(l=(n=d.tradeLicense)==null?void 0:n.addresses)==null?void 0:l.find(m=>m.title==="Present")}),te=L(()=>{var n,l;return(l=(n=d.tradeLicense)==null?void 0:n.addresses)==null?void 0:l.find(m=>m.title==="Permanent")}),le=L(()=>{var n,l;return(l=(n=d.tradeLicense)==null?void 0:n.addresses)==null?void 0:l.find(m=>m.title==="Business")});y(()=>e.present_address,n=>{e.present_address=n},{deep:!0}),y(()=>e.permanent_address,n=>{e.permanent_address=n},{deep:!0}),y(()=>e.business_address,n=>{e.business_address=n},{deep:!0});const b=U({}),k=U(!1),j=U(!1),oe=()=>{var n;(n=d.tradeLicense)!=null&&n.id?e.post(route("admin.trade-license.update",d.tradeLicense.id),{onFinish:()=>e.reset()}):e.post(route("admin.trade-license.store"),{onFinish:()=>e.reset()})};de(()=>{var n;e.present_address=ae.value,e.permanent_address=te.value,e.business_address=le.value,(n=d.tradeLicense)!=null&&n.id&&B()}),y(()=>e.business_capital_id,n=>{var l;j.value=((l=b==null?void 0:b.value)==null?void 0:l.some(m=>m.id===(e==null?void 0:e.business_capital_id)&&m.quantifiable===1))||!1},{deep:!0});const B=()=>{axios.get(route("ajax.fetch",["BusinessCapital","business_type_id",e==null?void 0:e.business_type_id]),e).then(n=>{b.value=n.data||"",k.value=b.value.length===0}).catch(n=>{console.error(n)}).finally(()=>{console.log("Business Capital fetch done")})};return(n,l)=>(c(),Z(ce,{title:"গ্রাম"},{default:f(()=>[o("div",_e,[o("div",pe,[ge,a(s(ie),{href:n.route("admin.trade-license.index")},{default:f(()=>[a(C,{class:"font-extrabold"},{default:f(()=>[q(" ফিরে যান ")]),_:1})]),_:1},8,["href"])]),be,a(ue,{class:"bg-white"},{default:f(()=>{var m;return[a(me,{message:n.$page.props.flash.suc_msg},null,8,["message"]),o("form",{onSubmit:re(oe,["prevent"]),class:"bg-white p-8 text-2lg"},[o("div",ve,[a(r,{for:"name",value:"আবেদনকারীর নামঃ",class:"text-sm col-span-2"}),o("div",ye,[a(u,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=t=>s(e).name=t),type:"text",class:"w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.name},null,8,["message"])])]),o("div",he,[a(r,{for:"fathers_name",value:"পিতা/স্বামীর নামঃ",class:"text-sm col-span-2"}),o("div",Ve,[a(u,{id:"fathers_name",modelValue:s(e).fathers_name,"onUpdate:modelValue":l[1]||(l[1]=t=>s(e).fathers_name=t),type:"text",class:"w-full",required:"",autocomplete:"fathers_name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.fathers_name},null,8,["message"])])]),o("div",xe,[a(r,{for:"mothers_name",value:"মাতার নামঃ",class:"text-sm col-span-2"}),o("div",we,[a(u,{id:"mothers_name",modelValue:s(e).mothers_name,"onUpdate:modelValue":l[2]||(l[2]=t=>s(e).mothers_name=t),type:"text",class:"w-full",required:"",autocomplete:"mothers_name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.mothers_name},null,8,["message"])])]),o("div",ke,[a(r,{for:"phone",value:"বর্তমান ঠিকানাঃ",class:"text-sm col-span-2"}),o("div",Le,[a($,{modelValue:s(e).present_address,"onUpdate:modelValue":l[3]||(l[3]=t=>s(e).present_address=t),title:"Present",divisions:_.divisions},null,8,["modelValue","divisions"]),a(i,{class:"mt-2",message:s(e).errors.present_address},null,8,["message"])])]),o("div",Ue,[a(r,{for:"phone",value:"স্থায়ী ঠিকানাঃ",class:"text-sm col-span-2"}),o("div",qe,[a($,{modelValue:s(e).permanent_address,"onUpdate:modelValue":l[4]||(l[4]=t=>s(e).permanent_address=t),title:"Permanent",divisions:_.divisions},null,8,["modelValue","divisions"]),a(i,{class:"mt-2",message:s(e).errors.permanent_address},null,8,["message"])])]),o("div",ze,[a(r,{for:"phone",value:"মোবাইল নাম্বারঃ",class:"text-sm col-span-2"}),o("div",Ce,[a(u,{id:"phone",modelValue:s(e).phone,"onUpdate:modelValue":l[5]||(l[5]=t=>s(e).phone=t),type:"text",class:"w-full",required:"",autocomplete:"phone"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.phone},null,8,["message"])])]),o("div",$e,[a(r,{for:"email",value:"ইমেইলঃ",class:"text-sm col-span-2"}),o("div",je,[a(u,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":l[6]||(l[6]=t=>s(e).email=t),type:"email",class:"w-full",required:"",autocomplete:"email"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.email},null,8,["message"])])]),o("div",Be,[a(r,{for:"nationality",value:"জাতীয়তা",class:"text-sm col-span-2"}),o("div",Fe,[a(u,{id:"nationality",modelValue:s(e).nationality,"onUpdate:modelValue":l[7]||(l[7]=t=>s(e).nationality=t),type:"text",class:"w-full",required:"",autocomplete:"nationality"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.nationality},null,8,["message"])])]),o("div",Oe,[a(r,{for:"nid_number",value:"জন্ম নিবন্ধন/এনআইডি/পাসপোর্ট নাম্বারঃ",class:"text-sm col-span-2"}),o("div",Se,[a(u,{id:"nid_number",modelValue:s(e).nid_number,"onUpdate:modelValue":l[8]||(l[8]=t=>s(e).nid_number=t),type:"text",class:"w-full",required:"",autocomplete:"nid_number"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.nid_number},null,8,["message"])])]),o("div",Te,[a(r,{for:"fee",value:"ফিঃ",class:"text-sm col-span-2"}),o("div",Ae,[a(u,{id:"fee",modelValue:s(e).fee,"onUpdate:modelValue":l[9]||(l[9]=t=>s(e).fee=t),type:"number",class:"w-full",autocomplete:"fee"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.fee},null,8,["message"])])]),o("div",De,[a(r,{for:"e_fee",value:"ই-ফিঃ",class:"text-sm col-span-2"}),o("div",Ne,[a(u,{id:"e_fee",modelValue:s(e).e_fee,"onUpdate:modelValue":l[10]||(l[10]=t=>s(e).e_fee=t),type:"number",class:"w-full",autocomplete:"e_fee"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.e_fee},null,8,["message"])])]),o("div",Pe,[a(r,{for:"business_name",value:"ব্যবসা প্রতিষ্ঠানের নামঃ",class:"text-sm col-span-2"}),o("div",Me,[a(u,{id:"business_name",modelValue:s(e).business_name,"onUpdate:modelValue":l[11]||(l[11]=t=>s(e).business_name=t),type:"text",class:"w-full",required:"",autocomplete:"business_name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.business_name},null,8,["message"])])]),o("div",Ee,[a(r,{for:"phone",value:"ব্যবসা প্রতিষ্ঠানের ঠিকানাঃ",class:"text-sm col-span-2"}),o("div",Ie,[a($,{modelValue:s(e).business_address,"onUpdate:modelValue":l[12]||(l[12]=t=>s(e).business_address=t),title:"Business",divisions:_.divisions,onCodeUpdate:se},null,8,["modelValue","divisions"]),a(i,{class:"mt-2",message:s(e).errors.business_address},null,8,["message"])])]),o("div",Ge,[a(r,{for:"business_type_id",value:"ব্যবসার ধরণঃ",class:"text-sm col-span-2"}),o("div",He,[h(o("select",{"onUpdate:modelValue":l[13]||(l[13]=t=>s(e).business_type_id=t),required:"",onChange:B,class:"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-50 dark:border-gray-600 dark:placeholder-gray-900 dark:text-gray-900 dark:focus:ring-blue-500 dark:focus:border-blue-500 min-w-max"},[Je,(c(!0),p(w,null,x(_.businessType,(t,g)=>(c(),p("option",{key:g,value:t.id,selected:s(e).business_type_id===t.id},v(t.name),9,Ke))),128))],544),[[V,s(e).business_type_id]]),a(i,{class:"mt-2",message:s(e).errors.business_type_id},null,8,["message"])])]),o("div",Qe,[a(r,{for:"business_capital_id",value:"ব্যবসার মূলধন",class:"text-sm col-span-2"}),o("div",Re,[h(o("select",{"onUpdate:modelValue":l[14]||(l[14]=t=>s(e).business_capital_id=t),required:"",disabled:k.value||!s(e).business_type_id,class:z([[k.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[Xe,(c(!0),p(w,null,x(b.value,(t,g)=>(c(),p("option",{key:g,value:t.id,selected:s(e).business_capital_id===t.id},v(t.name),9,Ye))),128))],10,We),[[V,s(e).business_capital_id]]),a(i,{class:"mt-2",message:s(e).errors.business_capital_id},null,8,["message"])])]),j.value?(c(),p("div",Ze,[a(r,{for:"quantity",value:"পরিমাণ/সংখ্যাঃ",class:"text-sm col-span-2"}),o("div",es,[a(u,{id:"quantity",modelValue:s(e).quantity,"onUpdate:modelValue":l[15]||(l[15]=t=>s(e).quantity=t),type:"number",class:"w-full",autocomplete:"quantity"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.quantity},null,8,["message"])])])):ee("",!0),o("div",ss,[a(r,{for:"business_starting_date",value:"ব্যাবসা আরম্ব করার সাম্ভাব্য তারিখ",class:"text-sm col-span-2"}),o("div",as,[a(u,{id:"business_starting_date",modelValue:s(e).business_starting_date,"onUpdate:modelValue":l[16]||(l[16]=t=>s(e).business_starting_date=t),type:"date",class:"w-full",autocomplete:"business_starting_date"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.business_starting_date},null,8,["message"])])]),o("div",ts,[a(r,{for:"ownership",value:"ব্যবসা প্রতিষ্ঠান/দোকান মালিকানা (নিজস্ব/ভাড়া)",class:"text-sm col-span-2"}),o("div",ls,[h(o("select",{"onUpdate:modelValue":l[17]||(l[17]=t=>s(e).ownership=t),required:"",class:"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-50 dark:border-gray-600 dark:placeholder-gray-900 dark:text-gray-900 dark:focus:ring-blue-500 dark:focus:border-blue-500 min-w-max"},[os,(c(!0),p(w,null,x(_.ownershipType,(t,g)=>(c(),p("option",{key:g,value:t,selected:s(e).ownership===t},v(t),9,ns))),128))],512),[[V,s(e).ownership]]),a(i,{class:"mt-2",message:s(e).errors.ownership},null,8,["message"])])]),o("div",ds,[a(r,{for:"business_space_rant",value:"ভাড়াঃ",class:"text-sm col-span-2"}),o("div",is,[a(u,{id:"business_space_rant",modelValue:s(e).business_space_rant,"onUpdate:modelValue":l[18]||(l[18]=t=>s(e).business_space_rant=t),type:"number",class:"w-full",autocomplete:"business_space_rant"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.business_space_rant},null,8,["message"])])]),o("div",rs,[a(r,{for:"size_of_signboard",value:"পরিচিতি মূলক সাইনবোর্ডের আয়তনঃ (প্রযোজ্য ক্ষেত্রে)",class:"text-sm col-span-2"}),o("div",us,[a(u,{id:"size_of_signboard",modelValue:s(e).size_of_signboard,"onUpdate:modelValue":l[19]||(l[19]=t=>s(e).size_of_signboard=t),type:"text",class:"w-full",autocomplete:"size_of_signboard"},null,8,["modelValue"]),a(i,{class:"mt-2",message:s(e).errors.size_of_signboard},null,8,["message"])])]),o("div",ms,[a(r,{for:"status",value:"স্ট্যাটাসঃ",class:"text-sm col-span-2"}),o("div",cs,[h(o("select",{"onUpdate:modelValue":l[20]||(l[20]=t=>s(e).status=t),required:"",class:"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-50 dark:border-gray-600 dark:placeholder-gray-900 dark:text-gray-900 dark:focus:ring-blue-500 dark:focus:border-blue-500 min-w-max"},[_s,(c(!0),p(w,null,x(_.status,(t,g)=>(c(),p("option",{key:g,value:t,selected:s(e).status===t},v(t),9,ps))),128))],512),[[V,s(e).status]]),a(i,{class:"mt-2",message:s(e).errors.status},null,8,["message"])])]),o("div",gs,[a(C,{onClick:l[21]||(l[21]=t=>s(e).submit_btn="return"),class:z(["ml-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:f(()=>{var t;return[q(v((t=_.tradeLicense)!=null&&t.id?"আপডেট করুন":"সংরক্ষণ"),1)]}),_:1},8,["class","disabled"]),(m=_.tradeLicense)!=null&&m.id?ee("",!0):(c(),Z(C,{key:0,onClick:l[22]||(l[22]=t=>s(e).submit_btn="new"),class:z(["ml-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:f(()=>[q(" সংরক্ষণ এবং নতুন ")]),_:1},8,["class","disabled"]))])],40,fe)]}),_:1})])]),_:1}))}};export{Us as default};
