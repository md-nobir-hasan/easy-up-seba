import{J as v,v as q,d as p,c as O,w as T,o as d,a as e,b as h,j as Y,l as f,s as D,u as o,e as i,h as w,t as l,F as E,H as S,f as b,p as V,aX as z}from"./app-4a6a267d.js";import{_ as J}from"./AppLayout-16753d37.js";import{_ as A}from"./SucMesgShow-fd8c8d5d.js";import{p as H}from"./print-d3616f05.js";import"./ApplicationLogo-1b6d971f.js";const K={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},L=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"ডেইলি পোষ্টিং")],-1),P={class:"mt-4 mb-2 p-4 bg-white"},R={class:"mb-2 flex items-center"},W=e("label",{for:"word_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"ওয়ার্ড",-1),X=e("option",{selected:"",value:""},"ওয়ার্ড নির্বাচন করুন",-1),G=["value"],Q={class:"mt-2 flex items-center"},Z=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"অর্থ-বছর",-1),ee=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),te=["value"],oe={class:"mt-2 flex items-center"},re=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"তারিখ",-1),ae={class:"flex min-w-[65%]"},le={key:0},ne={key:0},se={key:1},de={key:0,id:"table"},ie={class:"bg-[#f73532c2] text-white block p-[8px] font-extrabold text-[20px] text-center h1div"},ue={id:"my-table",class:"text-center"},ce={class:"bg-[yellow] p-[8px] font-extrabold text-[20px] text-center"},me=e("thead",null,[e("tr",null,[e("th",null,"ক্রমিক নাম্বার"),e("th",null,"হোল্ডিং নাম্বার"),e("th",null,"করদাতার নাম"),e("th",null,"অর্থ-বছর "),e("th",null,"আদায়ের তারিখ"),e("th",null,"ওয়ার্ড নং"),e("th",null,"গ্রামের নাম"),e("th",null,"হাল আদায়"),e("th",null,"বকেয়া আদায়"),e("th",null,"সর্বমোট আদায় ")])],-1),he=["data-val"],_e=["data-val"],ge=e("th",null,null,-1),be=e("th",null,null,-1),pe=e("th",null,null,-1),fe=e("th",null,null,-1),xe=e("th",null,null,-1),ke=e("th",null,null,-1),ye=e("th",null,"সর্বমোট",-1),ve={key:2},we=e("p",{class:"text-center text-[red]"}," কোনো তথ্য পাওয়া যায় নাই",-1),Ee=[we],je={__name:"Index",props:{f_years:Object,words:Object},setup(C){let s=a=>String(a).replace(/\d/g,r=>"০১২৩৪৫৬৭৮৯"[r]);v().props.auth.user;const n=q({f_year_id:"",word_id:"",from_date:"",to_date:""}),$=p({}),j=v().props.auth.user;v().props.permissions.forEach(function(a,r){a.module.name=="E-Khana"&&a.role_id==j.role_id&&($.value=a)});function F(a){if(a){const r=new Date(a);let c=r.getDate(),t=r.getMonth(),m=r.getFullYear();return s(c)+"/"+s(t)+"/"+s(m)}return a}const x=new Date;x.getMonth()+1+""+x.getDate()+x.getFullYear();const u=p({}),k=p(!1),I=()=>{if(!n.f_year_id)return eerr.value="অর্থ-বছর নির্বাচন করুন",!1;axios.post(route("ajax.ekhana.toplist.daily.posting"),n).then(a=>{u.value=a.data.dailypost,console.log(u.value),u.value.house_tax&&(console.log(u.value.house_tax),u.value.house_tax.length<1?k.value=!0:k.value=!1)}).catch(a=>{console.error(a)}).finally(()=>{console.log("khana fetch done")})},y=p(null),M=()=>{let a=document.getElementById("f_year_id"),r=a.selectedIndex,c=a.options[r].text;y.value=c},N=()=>{H({printable:"table",type:"html",style:"#my-table { border-collapse: collapse; width: 100%; font-size: 14px;margin-top:20px } #my-table th { background-color: #f2f2f2; color: #444; font-weight: bold; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table td { background-color: #fff; color: #444; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table tbody tr:nth-child(even) { background-color: #f2f2f2; } .h1div{font-size:40px !important; font-weight:bolder; text-align:center; margin-top:20px !important}",maxWidth:800,font:"Open Sans",honorMarginPadding:!0})},B=new Table2Excel,U=()=>{B.export(document.querySelectorAll("#my-table"))};let _=0,g=0;return(a,r)=>{const c=z("InputError");return d(),O(J,{title:"ডেইলি পোষ্টিং"},{default:T(()=>[e("div",K,[h(A,{message:a.$page.props.flash.suc_msg},null,8,["message"]),L,e("div",P,[e("form",{onSubmit:r[4]||(r[4]=Y((...t)=>a.submit&&a.submit(...t),["prevent"])),class:"bg-[#008494db] text-[white] m-auto rounded-lg p-6 pb-[2px] text-2lg max-w-md max-sm:max-w-sm"},[e("div",R,[W,f(e("select",{id:"word_id","onUpdate:modelValue":r[0]||(r[0]=t=>o(n).word_id=t),class:"border text-[black] min-w-[65%] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[X,(d(!0),i(E,null,w(C.words,(t,m)=>(d(),i("option",{value:t.id,key:m},l(o(s)(t.name)+"-"+t.union.name),9,G))),128))],512),[[D,o(n).word_id]]),h(c,{class:"mt-2",message:o(n).errors.eerr},null,8,["message"]),h(c,{class:"mt-2",message:o(n).errors.word_id},null,8,["message"])]),e("div",Q,[Z,f(e("select",{onChange:M,id:"f_year_id","onUpdate:modelValue":r[1]||(r[1]=t=>o(n).f_year_id=t),class:"border min-w-[65%] text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[ee,(d(!0),i(E,null,w(C.f_years,(t,m)=>(d(),i("option",{value:t.id,key:m},l(o(s)(t.from)+"-"+o(s)(t.to)),9,te))),128))],544),[[D,o(n).f_year_id]]),h(c,{class:"mt-2",message:o(n).errors.eerr},null,8,["message"]),h(c,{class:"mt-2",message:o(n).errors.f_year_id},null,8,["message"])]),e("div",oe,[re,e("div",ae,[f(e("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>o(n).from_date=t),type:"date",class:"border mr-2 text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[S,o(n).from_date]]),f(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>o(n).to_date=t),type:"date",class:"border text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[S,o(n).to_date]])]),h(c,{class:"mt-2",message:o(n).errors.eerr},null,8,["message"]),h(c,{class:"mt-2",message:o(n).errors.f_year_id},null,8,["message"])]),e("div",{class:"flex items-center justify-center mt-8"},[e("button",{onClick:I,type:"submit",class:"text-white text-[18px] font-extrabold bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},"অনুসন্ধান")])],32)]),u.value.house_tax?(d(),i("div",le,[u.value.house_tax.length>0?(d(),i("div",ne,[e("button",{type:"button",onClick:r[5]||(r[5]=t=>N()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," তালিকা প্রিন্ট "),e("button",{type:"button",onClick:r[6]||(r[6]=t=>U()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," Excel ")])):b("",!0)])):b("",!0),u.value.house_tax?(d(),i("div",se,[u.value.house_tax.length>0?(d(),i("div",de,[e("div",null,[e("h4",ie,l(o(s)(a.$page.props.auth.user.word.name)+" নং "+a.$page.props.auth.user.word.union.name),1)]),e("table",ue,[e("caption",ce,"ডেইলি পোষ্টিং-("+l(y.value)+")",1),me,e("tbody",null,[(d(!0),i(E,null,w(u.value.house_tax,(t,m)=>(d(),i("tr",{key:m},[e("td",null,l(m+1),1),e("td",null,l(o(s)(t.ekhana.holding_no)),1),e("td",null,l(t.ekhana.bn_name),1),e("td",null,l(y.value),1),e("td",null,l(F(t.deposite_date)),1),e("td",null,l(o(s)(t.ekhana.word.name)),1),e("td",null,l(t.ekhana.village.name),1),e("td",{"data-val":V(_)?_.value+=Number(t.paid_amount):_+=Number(t.paid_amount)},l(o(s)(t.paid_amount)),9,he),e("td",{"data-val":V(g)?g.value+=t.paid_prev_arrears:g+=t.paid_prev_arrears},l(o(s)(Number(t.paid_prev_arrears))),9,_e),e("td",null,l(o(s)(o(_)+o(g))),1)]))),128))]),e("tfoot",null,[e("tr",null,[ge,be,pe,fe,xe,ke,ye,e("th",null,l(o(s)(o(_))),1),e("th",null,l(o(s)(o(g))),1),e("th",null,l(o(s)(o(_)+o(g))),1)])])])])):b("",!0)])):b("",!0),k.value?(d(),i("div",ve,Ee)):b("",!0)])]),_:1})}}};export{je as default};
