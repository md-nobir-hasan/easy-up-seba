import{J as p,v as N,d as h,c as U,w as q,o as d,a as e,b as c,j as O,l as _,s as C,u as l,e as u,h as f,F as x,H as E,f as D,t as r,aX as T}from"./app-4846a83d.js";import{_ as Y}from"./AppLayout-1c0eccaf.js";import{_ as z}from"./SucMesgShow-0ac30d86.js";import{p as J}from"./print-9c0275af.js";import"./ApplicationLogo-0beffcd8.js";const A={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},H=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"ওয়ার্ড ভিত্তিক ডেইলি পোষ্টিং")],-1),K={class:"mt-4 mb-2 p-4 bg-white"},L={class:"mb-2 flex items-center"},P=e("label",{for:"word_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"ওয়ার্ড",-1),W=e("option",{selected:"",value:""},"ওয়ার্ড নির্বাচন করুন",-1),X=["value"],G={class:"mt-2 flex items-center"},Q=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"অর্থ-বছর",-1),R=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),Z=["value"],ee={class:"mt-2 flex items-center"},te=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"তারিখ",-1),oe={class:"flex min-w-[65%]"},ae={key:0},re={key:1},ne={id:"table"},le={class:"bg-[#f73532c2] text-white block p-[8px] font-extrabold text-[20px] text-center h1div"},se={id:"my-table",class:"text-center"},de={class:"bg-[yellow] p-[8px] font-extrabold text-[20px] text-center"},ie=e("thead",null,[e("tr",null,[e("th",null,"ক্রমিক নম্বর"),e("th",null,"হোল্ডিং নাম্বার"),e("th",null,"করদাতার নাম"),e("th",null,"অর্থ-বছর "),e("th",null,"আদায়ের তারিখ"),e("th",null,"ওয়ার্ড নং"),e("th",null,"গ্রামের নাম"),e("th",null,"হাল আদায়"),e("th",null,"বকেয়া আদায় "),e("th",null,"সর্বমোট আদায় ")])],-1),ue=["textContent"],ce=["data-val"],me=["data-val"],be=["data-val"],_e=e("th",null,null,-1),ge=e("th",null,null,-1),pe=e("th",null,null,-1),he=e("th",null,null,-1),fe=e("th",null,null,-1),xe=e("th",null,"সর্বমোট",-1),ye=e("th",null,"=",-1),De={__name:"Index",props:{f_years:Object,words:Object},setup(y){p().props.auth.user;const n=N({f_year_id:"",word_id:"",from_date:"",to_date:""}),V=h({}),$=p().props.auth.user;p().props.permissions.forEach(function(o,a){o.module.name=="E-Khana"&&o.role_id==$.role_id&&(V.value=o)});function j(o){if(o){const a=new Date(o);let s=a.getDate(),t=a.getMonth(),i=a.getFullYear();return s+"/"+t+"/"+i}return o}const g=new Date;g.getMonth()+1+""+g.getDate()+g.getFullYear();const m=h({}),F=()=>{if(!n.f_year_id)return eerr.value="অর্থ-বছর নির্বাচন করুন",!1;axios.post(route("ajax.ekhana.toplist.daily.posting"),n).then(o=>{m.value=o.data.dailypost,console.log(o.data)}).catch(o=>{console.error(o)}).finally(()=>{console.log("khana fetch done")})},b=h(null),I=()=>{let o=document.getElementById("f_year_id"),a=o.selectedIndex,s=o.options[a].text;b.value=s},M=()=>{J({printable:"table",type:"html",style:"#my-table { border-collapse: collapse; width: 100%; font-size: 14px;margin-top:20px } #my-table th { background-color: #f2f2f2; color: #444; font-weight: bold; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table td { background-color: #fff; color: #444; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table tbody tr:nth-child(even) { background-color: #f2f2f2; } .h1div{font-size:40px !important; font-weight:bolder; text-align:center; margin-top:20px !important}",maxWidth:800,font:"Open Sans",honorMarginPadding:!0})},S=new Table2Excel,B=()=>{S.export(document.querySelectorAll("#my-table"))},k=0,w=0,v=0;return(o,a)=>{const s=T("InputError");return d(),U(Y,{title:"ডেইলি পোষ্টিং"},{default:q(()=>[e("div",A,[c(z,{message:o.$page.props.flash.suc_msg},null,8,["message"]),H,e("div",K,[e("form",{onSubmit:a[4]||(a[4]=O((...t)=>o.submit&&o.submit(...t),["prevent"])),class:"bg-[#008494db] text-[white] m-auto rounded-lg p-6 pb-[2px] text-2lg max-w-md max-sm:max-w-sm"},[e("div",L,[P,_(e("select",{id:"word_id","onUpdate:modelValue":a[0]||(a[0]=t=>l(n).word_id=t),class:"border text-[black] min-w-[65%] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[W,(d(!0),u(x,null,f(y.words,(t,i)=>(d(),u("option",{value:t.id,key:i},r(t.name+"-"+t.union.name),9,X))),128))],512),[[C,l(n).word_id]]),c(s,{class:"mt-2",message:l(n).errors.eerr},null,8,["message"]),c(s,{class:"mt-2",message:l(n).errors.word_id},null,8,["message"])]),e("div",G,[Q,_(e("select",{onChange:I,id:"f_year_id","onUpdate:modelValue":a[1]||(a[1]=t=>l(n).f_year_id=t),class:"border min-w-[65%] text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[R,(d(!0),u(x,null,f(y.f_years,(t,i)=>(d(),u("option",{value:t.id,key:i},r(t.from+"-"+t.to),9,Z))),128))],544),[[C,l(n).f_year_id]]),c(s,{class:"mt-2",message:l(n).errors.eerr},null,8,["message"]),c(s,{class:"mt-2",message:l(n).errors.f_year_id},null,8,["message"])]),e("div",ee,[te,e("div",oe,[_(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>l(n).from_date=t),type:"date",class:"border mr-2 text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[E,l(n).from_date]]),_(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>l(n).to_date=t),type:"date",class:"border text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[E,l(n).to_date]])]),c(s,{class:"mt-2",message:l(n).errors.eerr},null,8,["message"]),c(s,{class:"mt-2",message:l(n).errors.f_year_id},null,8,["message"])]),e("div",{class:"flex items-center justify-center mt-8"},[e("button",{onClick:F,type:"submit",class:"text-white text-[18px] font-extrabold bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},"অনুসন্ধান")])],32)]),m.value.house_tax?(d(),u("div",ae,[e("div",null,[e("button",{type:"button",onClick:a[5]||(a[5]=t=>M()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," তালিকা প্রিন্ট "),e("button",{type:"button",onClick:a[6]||(a[6]=t=>B()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," Excel ")])])):D("",!0),m.value.house_tax?(d(),u("div",re,[e("div",ne,[e("div",null,[e("h4",le,r(o.$page.props.auth.user.word.name+" নং "+o.$page.props.auth.user.word.union.name),1)]),e("table",se,[e("caption",de,"ডেইলি পোষ্টিং রিপোট কুয়েরী প্রিন্ট - ("+r(b.value)+") - ("+r(b.value)+")",1),ie,e("tbody",null,[(d(!0),u(x,null,f(m.value.house_tax,(t,i)=>(d(),u("tr",{key:i},[e("td",null,r(i+1),1),e("td",null,r(t.ekhana.holding_no),1),e("td",null,r(t.ekhana.bn_name),1),e("td",null,r(b.value),1),e("td",{textContent:r(j(t.deposite_date))},null,8,ue),e("td",null,r(m.value.name),1),e("td",null,r(t.ekhana.village.name),1),e("td",{"data-val":w+=Number(t.paid_amount)},r(t.paid_amount),9,ce),e("td",{"data-val":k+=t.total_amount-t.paid_amount},r(t.total_amount-t.paid_amount),9,me),e("td",{"data-val":v+=Number(t.paid_amount)},r(t.paid_amount),9,be)]))),128))]),e("tfoot",null,[e("tr",null,[_e,ge,pe,he,fe,xe,ye,e("th",null,r(w)),e("th",null,r(k)),e("th",null,r(v))])])])])])):D("",!0)])]),_:1})}}};export{De as default};
