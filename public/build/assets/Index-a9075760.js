import{J as k,v as F,d as u,k as z,c as v,w as b,o as r,a as e,b as i,u as o,aZ as J,f as _,e as d,h as w,F as V,l as N,s as Y,H as A,t as a,aX as G,g as H,p as I}from"./app-db6bf5f2.js";import{_ as K,C as D}from"./AppLayout-f6863f1b.js";import{_ as L}from"./SucMesgShow-8ba178d3.js";import{p as P}from"./print-9d81e896.js";import{$ as R,U as W,N as X,_ as Z}from"./combobox-eb48e454.js";import"./ApplicationLogo-677d08b7.js";const Q={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ee=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"সিঙ্গেল বিল প্রিন্ট (পুরাতন)")],-1),te={class:"mt-4 mb-2 p-4 bg-white"},oe=["action"],ae={class:"flex"},le=e("label",{for:"",class:"block min-w-[30%] font-extrabold text-md dark:text-white"},"হোল্ডিং নম্বর",-1),ne={class:"relative min-w-[65%]"},se={class:"relative"},re={class:"mt-2 flex items-center"},de=e("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"অর্থ-বছর",-1),ie=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),ue=["value"],ce={class:"mt-2 flex items-center"},he=e("label",{for:"date",class:"block min-w-[30%] text-md font-extrabold dark:text-white"},"জমার তারিখ",-1),me=["value"],_e=["value"],pe=["value"],ge=e("div",{class:"flex items-center justify-center mt-8"},[e("button",{target:"nobir",type:"submit",class:"text-white text-[18px] font-extrabold bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},"অনুসন্ধান")],-1),be={key:0},fe={key:0},xe={key:1},ye={key:0,id:"table"},ke={class:"bg-[#f73532c2] text-white block p-[8px] font-extrabold text-[20px] text-center h1div"},ve={id:"my-table",class:"text-center"},we={class:"bg-[yellow] p-[8px] font-extrabold text-[20px] text-center"},Ve=e("thead",null,[e("tr",null,[e("th",null,"ক্রমিক নাম্বার"),e("th",null,"হোল্ডিং নাম্বার"),e("th",null,"করদাতার নাম"),e("th",null,"অর্থ-বছর "),e("th",null,"আদায়ের তারিখ"),e("th",null,"ওয়ার্ড নং"),e("th",null,"গ্রামের নাম"),e("th",null,"হাল আদায়"),e("th",null,"বকেয়া আদায়"),e("th",null,"সর্বমোট আদায় ")])],-1),Ce=["data-val"],Ee=["data-val"],$e=e("th",null,null,-1),Ne=e("th",null,null,-1),Ie=e("th",null,null,-1),De=e("th",null,null,-1),je=e("th",null,null,-1),Be=e("th",null,null,-1),Se=e("th",null,"সর্বমোট",-1),Te={key:2},Ue=e("p",{class:"text-center text-[red]"}," কোনো তথ্য পাওয়া যায় নাই",-1),Me=[Ue],Ae={__name:"Index",props:{f_years:Object,words:Object,ekhanas:Object},setup(C){const E=C;k().props.auth.user;const n=F({f_year_id:"",date:"",holding_no:u(E.ekhanas[0])}),j=u({}),B=k().props.auth.user;k().props.permissions.forEach(function(s,l){s.module.name=="E-Khana"&&s.role_id==B.role_id&&(j.value=s)});const f=new Date;f.getMonth()+1+""+f.getDate()+f.getFullYear();const p=u({}),S=u(!1),x=u(null),T=()=>{let s=document.getElementById("f_year_id"),l=s.selectedIndex,m=s.options[l].text;x.value=m},U=()=>{P({printable:"table",type:"html",style:"#my-table { border-collapse: collapse; width: 100%; font-size: 14px;margin-top:20px } #my-table th { background-color: #f2f2f2; color: #444; font-weight: bold; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table td { background-color: #fff; color: #444; padding: 2px; text-align: left; border: 1px solid #ddd; } #my-table tbody tr:nth-child(even) { background-color: #f2f2f2; } .h1div{font-size:40px !important; font-weight:bolder; text-align:center; margin-top:20px !important}",maxWidth:800,font:"Open Sans",honorMarginPadding:!0})},M=new Table2Excel,O=()=>{M.export(document.querySelectorAll("#my-table"))};let c=0,h=0;const $=u(E.ekhanas),y=u(""),q=z(()=>y.value===""?$.value:$.value.filter(s=>s.holding_no.includes(y.value)));return(s,l)=>{const m=G("InputError");return r(),v(K,{title:"সিঙ্গেল বিল প্রিন্ট (পুরাতন)"},{default:b(()=>[e("div",Q,[i(L,{message:s.$page.props.flash.suc_msg},null,8,["message"]),ee,e("div",te,[e("form",{action:s.route("admin.tax.bill.print.single.old.show"),method:"GET",target:"_blank",class:"bg-[#008494db] text-[white] m-auto rounded-lg p-6 pb-[2px] text-2lg max-w-md max-sm:max-w-sm"},[i(o(X),{modelValue:o(n).holding_no,"onUpdate:modelValue":l[1]||(l[1]=t=>o(n).holding_no=t)},{default:b(()=>[e("div",ae,[le,e("div",ne,[i(o(R),{onChange:l[0]||(l[0]=t=>y.value=t.target.value),displayValue:t=>t.holding_no,type:"text",class:"border text-[black] min-w-[100%] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["displayValue"]),o(D)?(r(),v(J(o(D)),{key:0,class:"h-4 mr-1 absolute right-[11px] top-[13px]"})):_("",!0)])]),e("div",se,[i(o(W),{class:"absolute text-[black] p-4 mt-1 bg-[white] left-[115px] w-[222px] rounded-lg"},{default:b(()=>[(r(!0),d(V,null,w(o(q),t=>(r(),v(o(Z),{class:"cursor-pointer",autocomplete:"off",key:t.id,value:t},{default:b(()=>[H(a(t.holding_no),1)]),_:2},1032,["value"]))),128))]),_:1})])]),_:1},8,["modelValue"]),e("div",re,[de,N(e("select",{onChange:T,id:"f_year_id","onUpdate:modelValue":l[2]||(l[2]=t=>o(n).f_year_id=t),class:"border min-w-[65%] text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[ie,(r(!0),d(V,null,w(C.f_years,(t,g)=>(r(),d("option",{value:t.id,key:g},a(t.from+"-"+t.to),9,ue))),128))],544),[[Y,o(n).f_year_id]]),i(m,{class:"mt-2",message:o(n).errors.eerr},null,8,["message"]),i(m,{class:"mt-2",message:o(n).errors.f_year_id},null,8,["message"])]),e("div",ce,[he,N(e("input",{"onUpdate:modelValue":l[3]||(l[3]=t=>o(n).date=t),type:"date",class:"border min-w-[65%] mr-2 text-[black] border-gray-300 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[A,o(n).date]]),i(m,{class:"mt-2",message:o(n).errors.eerr},null,8,["message"]),i(m,{class:"mt-2",message:o(n).errors.date},null,8,["message"])]),e("input",{type:"hidden",name:"f_y_id",value:o(n).f_year_id},null,8,me),e("input",{type:"hidden",name:"ekhana_id",value:o(n).holding_no.id},null,8,_e),e("input",{type:"hidden",name:"deposite_date",value:o(n).date},null,8,pe),ge],8,oe)]),p.value.house_tax?(r(),d("div",be,[p.value.house_tax.length>0?(r(),d("div",fe,[e("button",{type:"button",onClick:l[4]||(l[4]=t=>U()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," তালিকা প্রিন্ট "),e("button",{type:"button",onClick:l[5]||(l[5]=t=>O()),class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"}," Excel ")])):_("",!0)])):_("",!0),p.value.house_tax?(r(),d("div",xe,[p.value.house_tax.length>0?(r(),d("div",ye,[e("div",null,[e("h4",ke,a(s.$page.props.auth.user.word.name+" নং "+s.$page.props.auth.user.word.union.name),1)]),e("table",ve,[e("caption",we,"ডেইলি পোষ্টিং-("+a(x.value)+")",1),Ve,e("tbody",null,[(r(!0),d(V,null,w(p.value.house_tax,(t,g)=>(r(),d("tr",{key:g},[e("td",null,a(g+1),1),e("td",null,a(t.ekhana.holding_no),1),e("td",null,a(t.ekhana.bn_name),1),e("td",null,a(x.value),1),e("td",null,a(t.deposite_date),1),e("td",null,a(t.ekhana.word.name),1),e("td",null,a(t.ekhana.village.name),1),e("td",{"data-val":I(c)?c.value+=Number(t.paid_amount):c+=Number(t.paid_amount)},a(t.paid_amount),9,Ce),e("td",{"data-val":I(h)?h.value+=0:h+=0},a(0),8,Ee),e("td",null,a(o(c)+o(h)),1)]))),128))]),e("tfoot",null,[e("tr",null,[$e,Ne,Ie,De,je,Be,Se,e("th",null,a(o(c)),1),e("th",null,a(o(h)),1),e("th",null,a(o(c)+o(h)),1)])])])])):_("",!0)])):_("",!0),S.value?(r(),d("div",Te,Me)):_("",!0)])]),_:1})}}};export{Ae as default};
