import{J as h,v as C,d,k as M,c as v,w as c,o as i,a as s,b as l,j as S,l as x,s as k,u as t,e as m,h as w,F as y,aZ as z,f as J,g as j,n as K,aX as L,t as V}from"./app-139ee9e2.js";import{_ as T,C as D}from"./AppLayout-497bba61.js";import{_ as X}from"./SucMesgShow-483f4495.js";import{_ as Y}from"./PrimaryButton-2de1c22f.js";import{$ as Z,U as A,N as G,_ as H}from"./combobox-80b0fd5c.js";import"./ApplicationLogo-c2377c28.js";const P={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Q=s("div",{class:"bg-white flex justify-between p-4"},[s("h2",{class:"float-left text-4xl font-extrabold"},"গ্রাম ভিত্তিক ধার্য")],-1),R={class:"mt-4 mb-2 p-4 bg-white"},W={class:"mb-2 flex items-center"},ee=s("label",{for:"word_id",class:"block min-w-[30%] text-md font-medium text-[blue] dark:text-white"},"ওয়ার্ড",-1),se=s("option",{selected:"",value:""},"ওয়ার্ড নির্বাচন করুন",-1),te=["value"],re={class:"flex"},oe=s("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-medium text-[blue] dark:text-white"},"গ্রাম",-1),ae={class:"relative min-w-[65%]"},le={class:"relative"},de={class:"mt-2 flex items-center"},ne=s("label",{for:"infrastructure",class:"block min-w-[30%] text-md font-medium text-[blue] dark:text-white"},"প্রতিষ্ঠানের ধরন",-1),ie=s("option",{selected:"",value:""},"প্রতিষ্ঠানের ধরন নির্বাচন করুন",-1),ue=s("option",{value:"আবাসিক"},"আবাসিক",-1),ce=s("option",{value:"বানিজ্যিক"},"বানিজ্যিক",-1),me=[ie,ue,ce],fe={class:"mt-2 flex items-center"},ge=s("label",{for:"f_year_id",class:"block min-w-[30%] text-md font-medium text-[blue] dark:text-white"},"অর্থ-বছর",-1),_e=s("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),be=["value"],pe={class:"flex items-center justify-center mt-4"},Ve={__name:"Index",props:{f_years:Object,words:Object,tax:Object,vilgs:Object},setup(f){const N=f,U=h().props.auth.user,g=new Date;g.getMonth()+1+""+g.getDate()+g.getFullYear();const r=C({f_year_id:"",word_id:U.word_id,village_id:"",infrastructure:"",fine:0,deposite_date:null,id:0});C({phone:"",bn_name:"",spouse_name:"",mother_name:"",id:0});const $=d({}),E=h().props.auth.user;h().props.permissions.forEach(function(o,a){o.module.name=="E-Khana"&&o.role_id==E.role_id&&($.value=o)}),d(null);const F=d(""),q=d("");d({}),d(null);const B=()=>{if(!r.f_year_id)return F.value="অর্থ-বছর নির্বাচন করুন",!1;if(!r.village_id)return q.value="হল্ডিং নাম্বার নির্বাচন করুন",!1;console.log("i am form"),console.log(r),axios.post(route("ajax.ekhana.fetch"),r).then(o=>{}).catch(o=>{console.error(o)}).finally(()=>{console.log("khana fetch done")})},n=d(N.vilgs),_=d(!1),I=()=>{axios.get(route("ajax.fetch",["Village","word_id",r.word_id]),r).then(o=>{console.log(o),n.value=o.data,console.log(n.value),n.value.length==0?(_.value=!0,n.value={}):_.value=!1}).catch(o=>{_.value=!0,n.value={},console.error(o)}).finally(()=>{console.log("Village fetch done")})};console.dir(n);const b=d(""),O=M(()=>b.value===""?n.value:n.value.filter(o=>(console.log(o.name),o.name.includes(b.value))));return(o,a)=>{const u=L("InputError");return i(),v(T,{title:"গ্রাম ভিত্তিক ধার্য"},{default:c(()=>[s("div",P,[l(X,{message:o.$page.props.flash.suc_msg},null,8,["message"]),Q,s("div",R,[s("form",{onSubmit:a[5]||(a[5]=S((...e)=>o.submit&&o.submit(...e),["prevent"])),class:"bg-[#11ff5999] m-auto rounded-lg p-6 text-2lg max-w-md max-sm:max-w-sm"},[s("div",W,[ee,x(s("select",{id:"word_id","onUpdate:modelValue":a[0]||(a[0]=e=>t(r).word_id=e),onChange:I,class:"border min-w-[65%] border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[se,(i(!0),m(y,null,w(f.words,(e,p)=>(i(),m("option",{value:e.id,key:p},V(e.name+"-"+e.union.name),9,te))),128))],544),[[k,t(r).word_id]]),l(u,{class:"mt-2",message:t(r).errors.eerr},null,8,["message"]),l(u,{class:"mt-2",message:t(r).errors.word_id},null,8,["message"])]),l(t(G),{modelValue:t(r).village_id,"onUpdate:modelValue":a[2]||(a[2]=e=>t(r).village_id=e)},{default:c(()=>[s("div",re,[oe,s("div",ae,[l(t(Z),{onChange:a[1]||(a[1]=e=>b.value=e.target.value),displayValue:e=>e.name,type:"text",class:"border min-w-[100%] border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["displayValue"]),t(D)?(i(),v(z(t(D)),{key:0,class:"h-4 mr-1 absolute right-[11px] top-[13px]"})):J("",!0)])]),s("div",le,[l(t(A),{class:"absolute p-4 mt-1 bg-[white] left-[115px] w-[222px] rounded-lg"},{default:c(()=>[(i(!0),m(y,null,w(t(O),e=>(i(),v(t(H),{class:"cursor-pointer",autocomplete:"off",key:e.id,value:e.name},{default:c(()=>[j(V(e.name),1)]),_:2},1032,["value"]))),128))]),_:1})])]),_:1},8,["modelValue"]),s("div",de,[ne,x(s("select",{id:"infrastructure","onUpdate:modelValue":a[3]||(a[3]=e=>t(r).infrastructure=e),class:"border min-w-[65%] border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},me,512),[[k,t(r).infrastructure]]),l(u,{class:"mt-2",message:t(r).errors.eerr},null,8,["message"]),l(u,{class:"mt-2",message:t(r).errors.infrastructure},null,8,["message"])]),s("div",fe,[ge,x(s("select",{id:"f_year_id","onUpdate:modelValue":a[4]||(a[4]=e=>t(r).f_year_id=e),class:"border min-w-[65%] border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[_e,(i(!0),m(y,null,w(f.f_years,(e,p)=>(i(),m("option",{value:e.id,key:p},V(e.from+"-"+e.to),9,be))),128))],512),[[k,t(r).f_year_id]]),l(u,{class:"mt-2",message:t(r).errors.eerr},null,8,["message"]),l(u,{class:"mt-2",message:t(r).errors.f_year_id},null,8,["message"])]),s("div",pe,[l(Y,{onClick:B,class:K(["",{"opacity-25":t(r).processing}]),disabled:t(r).processing},{default:c(()=>[j(" সার্চ করুন ")]),_:1},8,["class","disabled"])])],32)])])]),_:1})}}};export{Ve as default};
