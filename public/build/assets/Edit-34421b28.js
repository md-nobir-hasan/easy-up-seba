import{v as $,J as c,c as C,w as m,o as n,a as s,b as i,g as p,u,i as j,j as V,e as l,h as E,t as B,f,F,n as N}from"./app-20abbbe2.js";import{_ as S}from"./AppLayout-de7a0ec4.js";import{_ as O}from"./SucMesgShow-007fc81a.js";import{_ as R,a as U}from"./TextInput-76375a5c.js";import{_ as D}from"./InputLabel-e785115c.js";import{_}from"./PrimaryButton-0195aed1.js";import{F as L}from"./FormLayout-5c2fd966.js";import"./ApplicationLogo-fa863575.js";import"./_plugin-vue_export-helper-c27b6911.js";const q={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},z={class:"bg-white flex justify-between p-4"},A=s("h2",{class:"float-left text-3xl font-extrabold"},"Update Role",-1),J=s("hr",{class:"mb-1"},null,-1),M=["onSubmit"],T={class:"mb-8"},G=["value"],H={key:0},I=s("hr",null,null,-1),K={class:"flex items-center"},P=["id","onChange","checked","value"],Q=["for"],W={class:"flex items-center"},X={key:0,class:"flex items-center mb-4 ml-8"},Y=["onChange","checked","id"],Z=["for"],ee={key:1,class:"flex items-center mb-4 ml-8"},re=["onChange","checked","id"],se=["for"],te={key:2,class:"flex items-center mb-4 ml-8"},oe=["onChange","checked","id"],ae=["for"],de={key:3,class:"flex items-center mb-4 ml-8"},ne=["onChange","checked","id"],ie=["for"],le={class:"flex items-center justify-center mt-4"},ye={__name:"Edit",props:{role:Object,modules:Object,perms:Object},setup(b){const o=$({name:c().props.role.name,perm:{},ased:{}}),k=(e,a)=>{let r=!1;return c().props.perms.forEach(function(t,d){t.role_id==e&&t.module_id==a&&(o.perm[t.module_id]=!0,r=!0)}),r},y=e=>{o.perm[e]==!0?o.perm[e]=!1:o.perm[e]=!0},g=(e,a)=>{o.ased[e+a]==!0?o.ased[e+a]=!1:o.ased[e+a]=!0},h=(e,a,r)=>{let t=!1;return c().props.perms.forEach(function(d,ce){d.role_id==e&&d.module_id==a&&d[r]==1&&(o.ased[d.module_id+r]=!0,t=!0)}),t},x=()=>{o.put(route("admin.user.role.update",c().props.role.id),{onFinish:()=>o.reset("name")})},v=c().props.auth.user,w=e=>{let a="";return c().props.permissions.forEach(function(r,t){r.module.name==e&&r.role_id==v.role_id&&(a=r)}),a};return(e,a)=>(n(),C(S,{title:"Role"},{default:m(()=>[s("div",q,[s("div",z,[A,i(u(j),{href:e.route("admin.user.role.index")},{default:m(()=>[i(_,{class:"font-extrabold"},{default:m(()=>[p(" Back ")]),_:1})]),_:1},8,["href"])]),J,i(L,{class:"bg-white"},{default:m(()=>[i(O,{message:e.$page.props.flash.suc_msg},null,8,["message"]),s("form",{onSubmit:V(x,["prevent"]),class:"bg-white p-8 text-2lg"},[s("div",T,[i(D,{for:"name",value:"Role Name"}),s("input",{type:"hidden",name:"id",value:e.$page.props.role.id},null,8,G),i(R,{id:"name",modelValue:u(o).name,"onUpdate:modelValue":a[0]||(a[0]=r=>u(o).name=r),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),i(U,{class:"mt-2",message:u(o).errors.name},null,8,["message"])]),(n(!0),l(F,null,E(b.modules,(r,t)=>(n(),l("div",{key:t,class:"inset-px mb-4"},[(e.nm=w(r.name))?(n(),l("span",H,[I,s("div",K,[s("input",{id:t,onChange:d=>y(r.id),type:"checkbox",checked:k(e.$page.props.role.id,r.id),value:r.id,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,P),s("label",{for:t,class:"ml-2 text-2xl text-[blue] font-medium dark:text-gray-300"},B(r.name),9,Q)]),s("div",W,[e.nm.add?(n(),l("div",X,[s("input",{onChange:d=>g(r.id,"add"),checked:h(e.$page.props.role.id,r.id,"add"),id:t+"dkjf",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Y),s("label",{for:t+"dkjf",class:"ml-2 text-md font-medium text-gray-900 dark:text-gray-300"},"Add",8,Z)])):f("",!0),e.nm.show?(n(),l("div",ee,[s("input",{onChange:d=>g(r.id,"show"),checked:h(e.$page.props.role.id,r.id,"show"),id:t+"kdf3",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,re),s("label",{for:t+"kdf3",class:"ml-2 text-md font-medium text-gray-900 dark:text-gray-300"},"Show",8,se)])):f("",!0),e.nm.edit?(n(),l("div",te,[s("input",{onChange:d=>g(r.id,"edit"),checked:h(e.$page.props.role.id,r.id,"edit"),id:t+"kdfr",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,oe),s("label",{for:t+"kdfr",class:"ml-2 text-md font-medium text-gray-900 dark:text-gray-300"},"Edit",8,ae)])):f("",!0),e.nm.delete?(n(),l("div",de,[s("input",{onChange:d=>g(r.id,"delete"),checked:h(e.$page.props.role.id,r.id,"delete"),id:t+"kdf",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,ne),s("label",{for:t+"kdf",class:"ml-2 text-md font-medium text-gray-900 dark:text-gray-300"},"Delele",8,ie)])):f("",!0)])])):f("",!0)]))),128)),s("div",le,[i(_,{class:N(["ml-4",{"opacity-25":u(o).processing}]),disabled:u(o).processing},{default:m(()=>[p(" Update ")]),_:1},8,["class","disabled"])])],40,M)]),_:1})])]),_:1}))}};export{ye as default};
