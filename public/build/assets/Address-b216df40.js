import{y as K,d as s,z as J,e as o,a as r,l as u,s as g,F as _,h as f,n as z,f as P,H as Q,o as l,t as p}from"./app-3b687d5c.js";const R={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},X=r("option",{value:""},"বিভাগ নির্বাচন করুন",-1),Y=["value","selected"],Z=["disabled"],O=r("option",{value:""},"জেলা নির্বাচন করুন",-1),w=["value","selected"],V=["disabled"],dd=r("option",{value:""},"উপজেলা নির্বাচন করুন",-1),ed=["value","selected"],id=["disabled"],td=r("option",{value:""},"ইউনিয়ন নির্বাচন করুন",-1),rd=["value"],ad=["disabled"],od=r("option",{value:""},"ওয়ার্ড নির্বাচন করুন",-1),ld=["value","selected"],sd={key:0},nd=["disabled"],ud=r("option",{value:""},"বাজার নির্বাচন করুন",-1),cd=["value","selected"],bd=["disabled"],vd=r("option",{value:""},"গ্রাম নির্বাচন করুন",-1),gd=["value","selected"],fd={__name:"Address",props:{title:{type:String,required:!0},divisions:Object,modelValue:{type:Object,required:!0}},emits:["update:modelValue","codeUpdate"],setup(q,{emit:A}){const n=q,e=K({title:n.title,division_id:n.modelValue.division_id??"",district_id:n.modelValue.district_id??"",upazila_id:n.modelValue.upazila_id??"",union_id:n.modelValue.union_id??"",ward_id:n.modelValue.ward_id??"",bazar_id:n.modelValue.bazar_id??"",village_id:n.modelValue.village_id??""}),c=s({}),B=s(!0),k=s({}),D=s(!0),h=s({}),U=s(!0),C=s({}),y=s(!0),x=s({}),m=s(!0),F=s({}),b=s(!0),E=(d=!1)=>{axios.get(route("ajax.fetch",["District","division_id",e.division_id]),e).then(i=>{d&&(e.district_id="",e.upazila_id="",e.union_id="",e.ward_id="",e.bazar_id="",e.village_id="",D.value=!0,U.value=!0,y.value=!0,b.value=!0,m.value=!0),c.value=i.data,B.value=c.value.length===0}).catch(i=>{console.error(i)}).finally(()=>{console.log("district fetch done")})},H=(d=!1)=>{axios.get(route("ajax.fetch",["Upazila","district_id",e.district_id]),e).then(i=>{d&&(e.upazila_id="",e.union_id="",e.ward_id="",e.bazar_id="",e.village_id="",U.value=!0,y.value=!0,b.value=!0,m.value=!0),k.value=i.data,D.value=k.value.length===0}).catch(i=>{console.error(i)}).finally(()=>{console.log("upazila fetch done")})},L=(d=!1)=>{axios.get(route("ajax.fetch",["Union","upazila_id",e.upazila_id]),e).then(i=>{d&&(e.union_id="",e.ward_id="",e.bazar_id="",e.village_id="",y.value=!0,b.value=!0,m.value=!0),h.value=i.data,U.value=h.value.length===0}).catch(i=>{console.error(i)}).finally(()=>{console.log("union fetch done")})},T=(d=!1)=>{axios.get(route("ajax.fetch",["Word","union_id",e.union_id]),e).then(i=>{d&&(e.ward_id="",e.village_id="",b.value=!0),C.value=i.data,y.value=C.value.length===0}).catch(i=>{console.error(i)}).finally(()=>{console.log("ward fetch done")})},W=(d=!1)=>{if(n.title!=="Business")return!1;axios.get(route("ajax.fetch",["Bazar","union_id",e.union_id]),e).then(i=>{d&&(e.bazar_id=""),x.value=i.data,m.value=x.value.length===0}).catch(i=>{console.error(i)}).finally(()=>{console.log("Bazar fetch done")})},j=()=>{axios.get(route("ajax.fetch",["Village","union_id",e.union_id]),e).then(d=>{F.value=d.data,b.value=F.value.length===0}).catch(d=>{console.error(d)}).finally(()=>{console.log("Village fetch done")})};return J(()=>n.modelValue,(d,i)=>{e.division_id=(d==null?void 0:d.division_id)??"",e.district_id=(d==null?void 0:d.district_id)??"",e.upazila_id=(d==null?void 0:d.upazila_id)??"",e.union_id=(d==null?void 0:d.union_id)??"",e.ward_id=(d==null?void 0:d.ward_id)??"",e.bazar_id=(d==null?void 0:d.bazar_id)??"",e.village_id=(d==null?void 0:d.village_id)??"",(d==null?void 0:d.division_id)!==(i==null?void 0:i.division_id)&&e.district_id&&E(),(d==null?void 0:d.district_id)!==(i==null?void 0:i.district_id)&&e.upazila_id&&H(),(d==null?void 0:d.upazila_id)!==(i==null?void 0:i.upazila_id)&&e.union_id&&L(),(d==null?void 0:d.union_id)!==(i==null?void 0:i.union_id)&&e.ward_id&&(T(),W(),j())},{deep:!0,immediate:!0}),J(()=>e,d=>{var i,t,a,G,I;if(A("update:modelValue",{...d}),n.title=="Business"&&(d!=null&&d.bazar_id)&&((i=c.value)==null?void 0:i.length)>0){const $=(t=c==null?void 0:c.value)==null?void 0:t.find(v=>v.id===(d==null?void 0:d.district_id)),S=(a=k==null?void 0:k.value)==null?void 0:a.find(v=>v.id===(d==null?void 0:d.upazila_id)),M=(G=h==null?void 0:h.value)==null?void 0:G.find(v=>v.id===(d==null?void 0:d.union_id)),N=(I=x==null?void 0:x.value)==null?void 0:I.find(v=>v.id===(d==null?void 0:d.bazar_id));A("codeUpdate",($==null?void 0:$.code)+""+(S==null?void 0:S.code)+(M==null?void 0:M.code)+(N==null?void 0:N.code)+Date.now())}},{deep:!0}),(d,i)=>(l(),o("div",R,[r("div",null,[u(r("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>e.division_id=t),onChange:i[1]||(i[1]=t=>E(!0)),required:"",class:"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[X,(l(!0),o(_,null,f(q.divisions,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.division_id===t.id},p(t.name),9,Y))),128))],544),[[g,e.division_id]])]),r("div",null,[u(r("select",{"onUpdate:modelValue":i[2]||(i[2]=t=>e.district_id=t),onChange:i[3]||(i[3]=t=>H(!0)),disabled:B.value,required:"",class:z([[B.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[O,(l(!0),o(_,null,f(c.value,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.district_id===t.id},p(t.name),9,w))),128))],42,Z),[[g,e.district_id]])]),r("div",null,[u(r("select",{"onUpdate:modelValue":i[4]||(i[4]=t=>e.upazila_id=t),onChange:i[5]||(i[5]=t=>L(!0)),disabled:D.value,required:"",class:z([[D.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[dd,(l(!0),o(_,null,f(k.value,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.upazila_id===t.id},p(t.name),9,ed))),128))],42,V),[[g,e.upazila_id]])]),r("div",null,[u(r("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>e.union_id=t),onChange:i[7]||(i[7]=t=>(T(!0),W(!0))),disabled:U.value,required:"",class:z([[U.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[td,(l(!0),o(_,null,f(h.value,(t,a)=>(l(),o("option",{key:a,value:t.id},p(t.name),9,rd))),128))],42,id),[[g,e.union_id]])]),r("div",null,[u(r("select",{"onUpdate:modelValue":i[8]||(i[8]=t=>e.ward_id=t),onChange:j,disabled:y.value,required:"",class:z([[y.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[od,(l(!0),o(_,null,f(C.value,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.ward_id===t.id},p(t.name),9,ld))),128))],42,ad),[[g,e.ward_id]])]),q.title=="Business"?(l(),o("div",sd,[u(r("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>e.bazar_id=t),onChange:j,disabled:m.value,required:"",class:z([[m.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[ud,(l(!0),o(_,null,f(x.value,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.bazar_id===t.id},p(t.name),9,cd))),128))],42,nd),[[g,e.bazar_id]])])):P("",!0),r("div",null,[u(r("select",{"onUpdate:modelValue":i[10]||(i[10]=t=>e.village_id=t),disabled:b.value,required:"",class:z([[b.value?"disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none invalid:border-pink-500 invalid:text-pink-600":""],"border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[vd,(l(!0),o(_,null,f(F.value,(t,a)=>(l(),o("option",{key:a,value:t.id,selected:e.village_id===t.id},p(t.name),9,gd))),128))],10,bd),[[g,e.village_id]])]),u(r("input",{type:"hidden",name:"title","onUpdate:modelValue":i[11]||(i[11]=t=>e.title=t)},null,512),[[Q,e.title]])]))}};export{fd as default};
