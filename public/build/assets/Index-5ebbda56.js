import{_ as C}from"./AppLayout-5b660dcb.js";import{_ as B}from"./SucMesgShow-cb07bee3.js";import{d as f,J as m,v,c as H,w as D,o as l,a as t,b as y,u as d,i as F,e as p,f as x,h as S,t as r,F as I}from"./app-a783baa7.js";import"./ApplicationLogo-f2596664.js";const N={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},j={class:"bg-white flex justify-between p-4"},L=t("h2",{class:"float-left text-4xl font-extrabold"},"কর জামার তালিকা",-1),T=t("hr",{class:"mb-1"},null,-1),$={class:"w-full text-md text-left text-gray-500 dark:text-gray-400"},E={class:"text-md text-center text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},M=t("th",{scope:"col",class:"px-6 py-3"}," নাম ",-1),V=t("th",{scope:"col",class:"px-6 py-3"}," হোল্ডিং নাম্বার ",-1),z=t("th",{scope:"col",class:"px-6 py-3"}," ফোন ",-1),J=t("th",{scope:"col",class:"px-6 py-3"}," অর্থ-বছর ",-1),O=t("th",{scope:"col",class:"px-6 py-3"}," করের পরিমাণ ",-1),Y=t("th",{scope:"col",class:"px-6 py-3"}," বকেয়া ",-1),q=t("th",{scope:"col",class:"px-6 py-3"}," পরিশোধ ",-1),A=t("th",{scope:"col",class:"px-6 py-3"}," পরিশোধের তারিখ ",-1),G=t("th",{scope:"col",class:"px-6 py-3"}," তৈরির তারিখ ",-1),K=t("th",{scope:"col",class:"px-6 py-3"}," আপডেটের তারিখ ",-1),P={key:0,scope:"col",class:"px-6 py-3"},Q={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},U={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},X={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Z={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},tt={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},et={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ot=["textContent"],st={class:"px-6 py-4"},nt=["textContent"],at=["textContent"],ct={key:0,class:"px-6 py-4 flex item-center justify-center"},rt=["onClick"],lt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 text-red",viewBox:"0 0 448 512"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z",fill:"#d10606"})],-1),dt=[lt],it=["onClick"],pt=t("span",null,"বিচারাধীন",-1),_t=[pt],ht={key:2,class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},ut=t("span",null,"অনুমোদিত না",-1),mt=[ut],kt={__name:"Index",props:{data:Object},setup(xt){let c=o=>String(o).replace(/\d/g,n=>"০১২৩৪৫৬৭৮৯"[n]);const _=f({}),w=m().props.auth.user;m().props.permissions.forEach(function(o,n){o.module.name=="House Tax Deposite List"&&o.role_id==w.role_id&&(_.value=o)});const i=o=>_.value&&_.value[o]?(console.log(o),console.log(_.value[o]),!0):!1;function h(o){if(o){const n=new Date(o);let e=n.getDate(),a=n.getMonth(),u=n.getFullYear();return c(e)+"/"+c(a)+"/"+c(u)}return o}const s=v({id:"",model:"",field:"",field_value:""}),g=f(m().props.data);function k(o,n){Swal.fire({title:"মুছে ফেলার জন্য আবেদন",text:"এই তথ্য মুছে ফেলার জন্য সচিবের নিকট অনুরোধ করা হবে",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"আবেদন প্রেরণ"}).then(e=>{e.isConfirmed&&(s.id=o,s.model=n,s.field="approval",s.field_value=2,console.log(s),axios.post(route("ajax.house.deposite.update"),s).then(a=>{console.log(a),document.getElementById("reload").click(),Swal.fire("আবেদন!","মুছে ফেলার জন্য আবেদন সফল হয়েছে","success")}).catch(a=>{console.error(a)}).finally(()=>{console.log("deleted")}))})}const b=(o,n)=>{Swal.fire({title:"মুছে ফেলার আবেদন ফিরিয়ে আনুন",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"আবেদন ফিরিয়ে আনুন"}).then(e=>{e.isConfirmed&&(s.id=o,s.model=n,s.field="approval",s.field_value=1,console.log(s),axios.post(route("ajax.afield.update"),s).then(a=>{console.log(a),document.getElementById("reload").click(),Swal.fire("আবেদন!","মুছে ফেলার জন্য আবেদন সফলভাবে ফিরিয়ে আনা হয়েছে","success")}).catch(a=>{console.error(a)}).finally(()=>{console.log("deleted")}))})};return(o,n)=>(l(),H(C,{title:"কর জামার তালিকা"},{default:D(()=>[t("div",N,[y(B,{message:o.$page.props.flash.suc_msg},null,8,["message"]),t("div",j,[L,y(d(F),{href:o.route("admin.tax.calculation.deposite.index"),id:"reload"},null,8,["href"])]),T,t("table",$,[t("thead",E,[t("tr",null,[M,V,z,J,O,Y,q,A,G,K,i("edit")||i("delete")?(l(),p("th",P," কাজ ")):x("",!0)])]),t("tbody",null,[(l(!0),p(I,null,S(g.value,(e,a)=>(l(),p("tr",{key:a,class:"bg-white text-center border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("td",Q,r(e.ekhana.bn_name),1),t("td",R,r(d(c)(e.ekhana.holding_no)),1),t("td",U,r(d(c)(e.ekhana.phone)),1),t("td",W,r(d(c)(e.f_year.from)+"-"+d(c)(e.f_year.to)),1),t("td",X,r(d(c)(new Intl.NumberFormat().format(e.total_amount)))+"/= ",1),t("td",Z,r(d(c)(new Intl.NumberFormat().format(e.prev_arrears)))+"/= ",1),t("td",tt,r(d(c)(new Intl.NumberFormat().format(e.paid_amount)))+"/= ",1),t("td",et,[t("span",{textContent:r(h(e.deposite_date))},null,8,ot)]),t("td",st,[t("span",{textContent:r(h(e.created_at))},null,8,nt)]),t("td",{textContent:r(h(e.created_at)),class:"px-6 py-4"},null,8,at),i("edit")||i("delete")?(l(),p("td",ct,[i("delete")&&e.approval==1?(l(),p("button",{key:0,onClick:u=>k(e.id,"HouseTaxDeposite"),class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},dt,8,rt)):i("delete")&&e.approval==2?(l(),p("button",{key:1,onClick:u=>b(e.id,"HouseTaxDeposite"),class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},_t,8,it)):i("delete")&&e.approval==3?(l(),p("button",ht,mt)):x("",!0)])):x("",!0)]))),128))])])])]),_:1}))}};export{kt as default};
