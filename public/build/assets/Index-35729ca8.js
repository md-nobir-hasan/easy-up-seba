import{_ as k}from"./AppLayout-4750e3c7.js";import{_ as b}from"./SucMesgShow-5a072006.js";import{d as x,J as h,v as C,c as B,w as v,o as r,a as t,b as m,u as H,i as D,e as d,f as u,h as S,F as j,t as a}from"./app-b4415859.js";import"./ApplicationLogo-82765f09.js";const L={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},T={class:"bg-white flex justify-between p-4"},$=t("h2",{class:"float-left text-4xl font-extrabold"},"কর জামার তালিকা",-1),E=t("hr",{class:"mb-1"},null,-1),F={class:"w-full text-md text-left text-gray-500 dark:text-gray-400"},I={class:"text-md text-center text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},M=t("th",{scope:"col",class:"px-6 py-3"}," নাম ",-1),N=t("th",{scope:"col",class:"px-6 py-3"}," হোল্ডিং নাম্বার ",-1),V=t("th",{scope:"col",class:"px-6 py-3"}," ফোন ",-1),z=t("th",{scope:"col",class:"px-6 py-3"}," অর্থ-বছর ",-1),J=t("th",{scope:"col",class:"px-6 py-3"}," করের পরিমাণ ",-1),O=t("th",{scope:"col",class:"px-6 py-3"}," পরিশোধ ",-1),Y=t("th",{scope:"col",class:"px-6 py-3"}," পরিশোধের তারিখ ",-1),q=t("th",{scope:"col",class:"px-6 py-3"}," বকেয়া ",-1),A=t("th",{scope:"col",class:"px-6 py-3"}," তৈরির তারিখ ",-1),G=t("th",{scope:"col",class:"px-6 py-3"}," আপডেটের তারিখ ",-1),K={key:0,scope:"col",class:"px-6 py-3"},P={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Q={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},U={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},X={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Z={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},tt=["textContent"],et={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ot={class:"px-6 py-4"},st=["textContent"],nt=["textContent"],at={key:0,class:"px-6 py-4 flex item-center justify-center"},ct=["onClick"],rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 text-red",viewBox:"0 0 448 512"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z",fill:"#d10606"})],-1),lt=[rt],dt=["onClick"],it=t("span",null,"বিচারাধীন",-1),pt=[it],_t={key:2,class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},ht=t("span",null,"অনুমোদিত না",-1),ut=[ht],gt={__name:"Index",props:{data:Object},setup(xt){const i=x({}),f=h().props.auth.user;h().props.permissions.forEach(function(o,c){o.module.name=="House Tax Deposite List"&&o.role_id==f.role_id&&(i.value=o)});const l=o=>i.value&&i.value[o]?(console.log(o),console.log(i.value[o]),!0):!1;function p(o){if(o){const c=new Date(o);let e=c.getDate(),n=c.getMonth(),_=c.getFullYear();return e+"/"+n+"/"+_}return o}const s=C({id:"",model:"",field:"",field_value:""}),y=x(h().props.data);function w(o,c){Swal.fire({title:"মুছে ফেলার জন্য আবেদন",text:"এই তথ্য মুছে ফেলার জন্য এডমিনের নিকট অনুরোধ করা হবে",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"আবেদন প্রেরণ"}).then(e=>{e.isConfirmed&&(s.id=o,s.model=c,s.field="approval",s.field_value=2,console.log(s),axios.post(route("ajax.house.deposite.update"),s).then(n=>{console.log(n),document.getElementById("reload").click(),Swal.fire("আবেদন!","মুছে ফেলার জন্য আবেদন সফল হয়েছে","success")}).catch(n=>{console.error(n)}).finally(()=>{console.log("deleted")}))})}const g=(o,c)=>{Swal.fire({title:"মুছে ফেলার আবেদন ফিরিয়ে আনুন",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"আবেদন ফিরিয়ে আনুন"}).then(e=>{e.isConfirmed&&(s.id=o,s.model=c,s.field="approval",s.field_value=1,console.log(s),axios.post(route("ajax.afield.update"),s).then(n=>{console.log(n),document.getElementById("reload").click(),Swal.fire("আবেদন!","মুছে ফেলার জন্য আবেদন সফলভাবে ফিরিয়ে আনা হয়েছে","success")}).catch(n=>{console.error(n)}).finally(()=>{console.log("deleted")}))})};return(o,c)=>(r(),B(k,{title:"কর জামার তালিকা"},{default:v(()=>[t("div",L,[m(b,{message:o.$page.props.flash.suc_msg},null,8,["message"]),t("div",T,[$,m(H(D),{href:o.route("admin.tax.calculation.deposite.index"),id:"reload"},null,8,["href"])]),E,t("table",F,[t("thead",I,[t("tr",null,[M,N,V,z,J,O,Y,q,A,G,l("edit")||l("delete")?(r(),d("th",K," কাজ ")):u("",!0)])]),t("tbody",null,[(r(!0),d(j,null,S(y.value,(e,n)=>(r(),d("tr",{key:n,class:"bg-white text-center border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("td",P,a(e.ekhana.bn_name),1),t("td",Q,a(e.ekhana.holding_no),1),t("td",R,a(e.ekhana.phone),1),t("td",U,a(e.f_year.from+"-"+e.f_year.to),1),t("td",W,a(e.total_amount),1),t("td",X,a(e.paid_amount),1),t("td",Z,[t("span",{textContent:a(p(e.deposite_date))},null,8,tt)]),t("td",et,a(e.arrears),1),t("td",ot,[t("span",{textContent:a(p(e.created_at))},null,8,st)]),t("td",{textContent:a(p(e.created_at)),class:"px-6 py-4"},null,8,nt),l("edit")||l("delete")?(r(),d("td",at,[l("delete")&&e.approval==1?(r(),d("button",{key:0,onClick:_=>w(e.id,"HouseTaxDeposite"),class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},lt,8,ct)):l("delete")&&e.approval==2?(r(),d("button",{key:1,onClick:_=>g(e.id,"HouseTaxDeposite"),class:"font-medium ml-2 text-red-600 dark:text-blue-500 hover:underline"},pt,8,dt)):l("delete")&&e.approval==3?(r(),d("button",_t,ut)):u("",!0)])):u("",!0)]))),128))])])])]),_:1}))}};export{gt as default};
