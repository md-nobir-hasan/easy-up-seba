import{v,d as h,J as V,c as C,w as k,o as n,a as e,b as m,i as I,l as p,s as U,u as o,e as u,h as D,F as j,g as q,n as i,t as _,H as b,aZ as M,f as O,aX as z}from"./app-848267a5.js";import{_ as J,C as K}from"./AppLayout-76abd845.js";import{_ as L}from"./SucMesgShow-678b4afc.js";import{_ as E}from"./PrimaryButton-b47c8e21.js";import"./ApplicationLogo-3ed9e329.js";import"./AuthenticationCardLogo-d6fd3d15.js";const X={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Y=e("div",{class:"bg-white flex justify-between p-4"},[e("h2",{class:"float-left text-4xl font-extrabold"},"কর জমা ফর্ম")],-1),Z={class:"mt-4 mb-2 p-4 bg-white"},A={class:"mb-4 flex items-center"},G=e("label",{for:"f_year_id",class:"block text-md font-medium text-[blue] dark:text-white"},"অর্থ-বছর",-1),P=e("option",{selected:"",value:""},"অর্থ-বছর নির্বাচন করুন",-1),Q=["value"],R={class:"mb-4 flex items-center"},W=e("label",{for:"ekhana_id",class:"block text-md font-medium text-[blue] dark:text-white"},"হল্ডিং নাম্বার",-1),ee=e("option",{selected:"",value:""},"হল্ডিং নাম্বার নির্বাচন করুন",-1),te=["value"],oe={class:"flex items-center justify-center mt-4"},re={key:0,class:"lg:flex justify-center bg-white items-center mt-4 pt-4"},ae={class:"border-collapse mb-4 border border-slate-400 text-center text-md text-left text-gray-500 dark:text-gray-400 rounded-lg m-auto"},se=e("thead",{class:"text-md text-center text-gray-700 uppercase bg-[#11ff5999] dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{colspan:"2",class:"border border-slate-300 px-6 py-4 font-bold text-gray-900 whitespace-nowrap dark:text-white"},"খান তথ্য")])],-1),le=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," হোল্ডিং নাম্বার ",-1),de={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ne=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," করদাতার নাম ",-1),ie=["readonly"],pe=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," বাৎসরিক আয় ",-1),ce={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ue=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," পিতা/স্বামীর নাম ",-1),be=["readonly"],me=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," মাতার নাম ",-1),_e=["readonly"],he=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," এনআইডি নাম ",-1),fe={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ge=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," মোবাইল নাম্বার ",-1),xe=["readonly"],ye=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," গ্রামের নাম ",-1),ke={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},we=e("th",{scope:"col",class:"border border-slate-300 px-6 py-3"}," ওয়ার্ড নং ",-1),ve={scope:"row",class:"border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ve={class:""},Ce=e("button",{type:"button",class:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-purple-300 dark:focus:ring-purple-800 shadow-lg shadow-purple-500/50 dark:shadow-lg dark:shadow-purple-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center w-full"},"হালনাগাদ",-1),Ue=[Ce],De={key:1,colspan:"2",class:"text-center"},je=["disabled"],qe={class:"pb-5 pr-4 md:mt-6"},Ee={class:"border-collapse border border-slate-400 text-center m-auto"},Te=e("thead",{class:"bg-[#11ff5999]"},[e("tr",null,[e("th",{colspan:"2",class:"border border-slate-300 p-2"},"কর জমা ফর্ম")])],-1),Fe=e("th",{class:"border border-slate-300 p-2"},"জমার তারিখ",-1),Ne=e("td",{class:"border border-slate-300 p-2"},"করের পরিমাণ",-1),Se={class:"border border-slate-300 bg-gray-100"},$e=e("td",{class:"border border-slate-300 p-2"},"বকেয়া পাওনা",-1),Be={class:"border border-slate-300 bg-gray-100"},He=e("td",{class:"border border-slate-300 p-2"},"দন্ড",-1),Ie={class:"border border-slate-300 bg-gray-100"},Me={class:"bg-[#11ff5999]"},Oe={key:0,colspan:"2",class:"border border-slate-300 p-2"},ze={key:1,colspan:"2",class:"border border-slate-300 p-2"},Ae={__name:"Create",props:{f_years:Object,ekhanas:Object,taxes:Object},setup(w){const g=new Date;g.getMonth()+1+""+g.getDate()+g.getFullYear();const t=v({f_year_id:"",ekhana_id:"",paid_amount:0,arrear:0,arrears:0,fine:0,deposite_date:null,id:0}),l=v({phone:"",bn_name:"",spouse_name:"",mother_name:"",id:0}),T=h({}),F=V().props.auth.user;V().props.permissions.forEach(function(a,s){a.module.name=="E-Khana"&&a.role_id==F.role_id&&(T.value=a)});const x=h(null),N=h(""),S=h(""),c=h({}),$=()=>{if(!t.f_year_id)return N.value="অর্থ-বছর নির্বাচন করুন",!1;if(!t.ekhana_id)return S.value="হল্ডিং নাম্বার নির্বাচন করুন",!1;axios.post(route("ajax.ekhana.fetch"),t).then(a=>{c.value=a.data.ekhana,x.value=a.data.ht_deposite,t.paid_amount=a.data.ht_deposite.total_amount,t.arrear=a.data.ht_deposite.arrears??0,t.arrears=t.paid_amount-t.arrear,t.fine=a.data.ht_deposite.fine??0,t.id=a.data.ht_deposite.id??0,l.id=a.data.ekhana.id,l.bn_name=a.data.ekhana.bn_name,l.spouse_name=a.data.ekhana.spouse_name,l.mother_name=a.data.ekhana.mother_name,l.phone=a.data.ekhana.phone,console.log(t,l)}).catch(a=>{console.error(a)}).finally(()=>{console.log("khana fetch done")})},B=()=>{if(!t.deposite_date)return alert("জমার তারিখ নির্বাচন করুন"),!1;axios.post(route("ajax.update",["HouseTaxDeposite"]),t).then(a=>{x.value=a.data,alert("সফলভাবে কর জমা হয়েছে")}).catch(a=>{console.error(a)}).finally(()=>{console.log("House Tax Deposite Store Done")})},d=h(!1),H=()=>{axios.post(route("ajax.update",["Ekhana"]),l).then(a=>{d.value=!1,alert("সফলভাবে আপলোড হয়েছে")}).catch(a=>{console.error(a)}).finally(()=>{console.log("House Tax Deposite Store Done")})};return(a,s)=>{const f=z("InputError");return n(),C(J,{title:"কর জমা"},{default:k(()=>[e("div",X,[m(L,{message:a.$page.props.flash.suc_msg},null,8,["message"]),Y,e("div",Z,[e("form",{onSubmit:s[2]||(s[2]=I((...r)=>a.submit&&a.submit(...r),["prevent"])),class:"bg-[#11ff5999] m-auto rounded-lg p-6 text-2lg max-w-md max-sm:max-w-sm"},[e("div",A,[G,p(e("select",{id:"f_year_id","onUpdate:modelValue":s[0]||(s[0]=r=>o(t).f_year_id=r),class:"border ml-6 border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 pr-[50px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[P,(n(!0),u(j,null,D(w.f_years,(r,y)=>(n(),u("option",{value:r.id,key:y},_(r.from+"-"+r.to),9,Q))),128))],512),[[U,o(t).f_year_id]]),m(f,{class:"mt-2",message:o(t).errors.eerr},null,8,["message"]),m(f,{class:"mt-2",message:o(t).errors.f_year_id},null,8,["message"])]),e("div",R,[W,p(e("select",{id:"ekhana_id","onUpdate:modelValue":s[1]||(s[1]=r=>o(t).ekhana_id=r),class:"border ml-1 border-gray-300 text-[blue] text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 pr-[33px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[ee,(n(!0),u(j,null,D(w.ekhanas,(r,y)=>(n(),u("option",{value:r.id,key:y},_(r.holding_no),9,te))),128))],512),[[U,o(t).ekhana_id]]),m(f,{class:"mt-2",message:o(t).errors.eerr2},null,8,["message"]),m(f,{class:"mt-2",message:o(t).errors.ekhana_id},null,8,["message"])]),e("div",oe,[m(E,{onClick:$,class:i(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:k(()=>[q(" সার্চ করুন ")]),_:1},8,["class","disabled"])])],32)]),c.value.holding_no?(n(),u("div",re,[e("table",ae,[se,e("tbody",null,[e("tr",null,[le,e("td",de,_(c.value.holding_no),1)]),e("tr",null,[ne,e("td",{scope:"row",class:i(["border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",[d.value?" p-2":""]])},[p(e("input",{class:i([d.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!d.value,"onUpdate:modelValue":s[3]||(s[3]=r=>o(l).bn_name=r)},null,10,ie),[[b,o(l).bn_name]])],2)]),e("tr",null,[pe,e("td",ce,_(new Intl.NumberFormat().format(c.value.yearly_income))+"/= ",1)]),e("tr",null,[ue,e("td",{scope:"row",class:i(["border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",[d.value?" p-2":""]])},[p(e("input",{class:i([d.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!d.value,"onUpdate:modelValue":s[4]||(s[4]=r=>o(l).spouse_name=r)},null,10,be),[[b,o(l).spouse_name]])],2)]),e("tr",null,[me,e("td",{scope:"row",class:i(["border border-slate-300 px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",[d.value?" p-2":""]])},[p(e("input",{class:i([d.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!d.value,"onUpdate:modelValue":s[5]||(s[5]=r=>o(l).mother_name=r)},null,10,_e),[[b,o(l).mother_name]])],2)]),e("tr",null,[he,e("td",fe,_(c.value.nid),1)]),e("tr",null,[ge,e("td",{scope:"row",class:i(["border border-slate-300 font-medium text-gray-900 whitespace-nowrap dark:text-white",[d.value?" p-2":""]])},[p(e("input",{class:i([d.value?"border-[blue]":"border-0 text-center"]),type:"tel",required:"",readonly:!d.value,"onUpdate:modelValue":s[6]||(s[6]=r=>o(l).phone=r)},null,10,xe),[[b,o(l).phone]])],2)]),e("tr",null,[ye,e("td",ke,_(c.value.village?c.value.village.name:""),1)]),e("tr",null,[we,e("td",ve,_(c.value.word?c.value.word.name:""),1)])]),e("tfoot",Ve,[e("tr",null,[d.value?(n(),u("th",De,[e("button",{type:"button",onClick:H,class:i(["text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center w-full",{"opacity-25":o(t).processing}]),disabled:o(t).processing},"আপডেট",10,je)])):(n(),u("th",{key:0,colspan:"2",onClick:s[7]||(s[7]=r=>d.value=!0)},Ue))])])]),e("div",qe,[e("form",null,[e("table",Ee,[Te,e("tbody",null,[e("tr",null,[Fe,e("td",null,[p(e("input",{class:"border-0",type:"date",required:"","onUpdate:modelValue":s[8]||(s[8]=r=>o(t).deposite_date=r)},null,512),[[b,o(t).deposite_date]])])]),e("tr",null,[Ne,e("td",Se,[p(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"text","onUpdate:modelValue":s[9]||(s[9]=r=>o(t).paid_amount=r)},null,512),[[b,o(t).paid_amount]])])]),e("tr",null,[$e,e("td",Be,[p(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"number","onUpdate:modelValue":s[10]||(s[10]=r=>o(t).arrear=r)},null,512),[[b,o(t).arrear]])])]),e("tr",null,[He,e("td",Ie,[p(e("input",{class:"bg-gray-100 border-0",readonly:"",type:"number","onUpdate:modelValue":s[11]||(s[11]=r=>o(t).fine=r)},null,512),[[b,o(t).fine]])])])]),e("tfoot",Me,[e("tr",null,[x.value.paid_amount?(n(),u("th",ze,[(n(),C(M(o(K)),{class:"h-9 p-1 inline font-bold bg-[blue] text-white rounded-full"}))])):(n(),u("th",Oe,[m(E,{type:"button",onClick:B,class:i(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:k(()=>[q(" জমা করুন ")]),_:1},8,["class","disabled"])]))])])])])])])):O("",!0)])]),_:1})}}};export{Ae as default};
